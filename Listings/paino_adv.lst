A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\paino_adv.obj
ASSEMBLER INVOKED BY: D:\Code_IDE\Keilv5\C51\BIN\A51.EXE paino_adv.a51 NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\paino_a
                      dv.lst) OBJECT(.\Objects\paino_adv.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (C8051F020.inc)
                +1     2     ;-----------------------------------------------------------------------------
                +1     3     ;       
                +1     4     ;       
                +1     5     ;
                +1     6     ;
                +1     7     ;       FILE NAME       : C8051F020.INC 
                +1     8     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1     9     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    10     ;
                +1    11     ;       REVISION 1.0    
                +1    12     ;
                +1    13     ;-----------------------------------------------------------------------------
                +1    14     ;REGISTER DEFINITIONS
                +1    15     ;
  0080          +1    16     P0       DATA  080H   ; PORT 0
  0081          +1    17     SP       DATA  081H   ; STACK POINTER
  0082          +1    18     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    19     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    20     P4       DATA  084H   ; PORT 4
  0085          +1    21     P5       DATA  085H   ; PORT 5
  0086          +1    22     P6       DATA  086H   ; PORT 6
  0087          +1    23     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    24     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    25     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    26     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    27     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    28     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    29     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    30     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    31     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    32     P1       DATA  090H   ; PORT 1
  0091          +1    33     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    34     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    35     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    36     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    37     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    38     P7       DATA  096H   ; PORT 7
  0098          +1    39     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    40     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    41     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    42     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    43     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    44     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    45     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    46     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    47     P2       DATA  0A0H   ; PORT 2
  00A1          +1    48     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    49     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    50     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    51     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    52     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    53     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1    54     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    55     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    56     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    57     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     2

  00AC          +1    58     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    59     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    60     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    61     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    62     P3       DATA  0B0H   ; PORT 3
  00B1          +1    63     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    64     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    65     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    66     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    67     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    68     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    69     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    70     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    71     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    72     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    73     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    74     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    75     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    76     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    77     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    78     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    79     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    80     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    81     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    82     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    83     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    84     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    85     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    86     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    87     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    88     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    89     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    90     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    91     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    92     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    93     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    94     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1    95     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1    96     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1    97     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1    98     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1    99     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   100     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   101     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   102     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   103     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   104     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   105     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   106     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   107     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   108     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   109     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   110     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   111     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   112     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   113     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   114     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   115     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   116     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   117     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   118     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   119     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
  00EE          +1   120     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   121     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   122     B        DATA  0F0H   ; B REGISTER
  00F1          +1   123     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     3

  00F2          +1   124     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   125     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   126     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   127     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   128     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   129     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   130     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   131     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   132     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   133     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   134     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   135     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   136     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   137     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   138     ;
                +1   139     ;------------------------------------------------------------------------------
                +1   140     ;BIT DEFINITIONS
                +1   141     ;
                +1   142     ; TCON 88H
  0088          +1   143     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   144     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   145     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   146     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   147     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   148     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   149     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   150     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   151     ;
                +1   152     ; SCON0 98H
  0098          +1   153     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   154     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   155     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   156     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   157     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   158     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   159     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   160     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   161     ; 
                +1   162     ; IE A8H
  00A8          +1   163     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   164     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   165     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   166     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   167     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   168     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   169     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   170     ;
                +1   171     ; IP B8H
  00B8          +1   172     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   173     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   174     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   175     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   176     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   177     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   178     ;
                +1   179     ; SMB0CN C0H
  00C0          +1   180     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   181     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   182     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   183     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   184     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   185     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
  00C6          +1   186     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   187     ;
                +1   188     ; T2CON C8H
  00C8          +1   189     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     4

  00C9          +1   190     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   191     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   192     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   193     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   194     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   195     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   196     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   197     ;
                +1   198     ; PSW D0H
  00D0          +1   199     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   200     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   201     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   202     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   203     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   204     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   205     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   206     CY       BIT   PSW.7  ; CARRY FLAG
                +1   207     ;
                +1   208     ; PCA0CN D8H
  00D8          +1   209     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   210     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   211     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   212     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   213     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   214     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   215     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   216     ;
                +1   217     ; ADC0CN E8H
  00E8          +1   218     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   219     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   220     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   221     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   222     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   223     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   224     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   225     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   226     ;
                +1   227     ; SPI0CN F8H
  00F8          +1   228     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   229     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   230     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   231     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   232     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   233     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   234     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   235     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     236     
                     237             
0000                 238     ORG 0000H       
0000 020100          239     LJMP MAIN
000B                 240     ORG 000BH
000B 0202B1          241     LJMP T0_Proc
001B                 242     ORG 001BH
001B 0202C3          243     LJMP T1_Proc
                     244             
0100                 245     ORG 0100H
0100                 246     MAIN:
0100                 247     INIT:
  00A3               248             RS BIT P2.3
  00A4               249             RW BIT P2.4
  00A5               250             E BIT P2.5
  00A6               251             BUZZER  BIT P2.6
                     252                     
  0000               253             CLR_LCD_SIG BIT 00H             ;ÇåÁã±êÖ¾Î»
  0001               254             PAUSE_FLAG BIT 01H              ;ÔÝÍ£±êÖ¾Î»
  0002               255             MUSIC_FINSH BIT 02H             ;ÒôÀÖ²¥·ÅÍê³É±êÖ¾Î»
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     5

  0003               256             RECORING_SIG BIT 03H    ;Â¼Òô±êÖ¾Î»
  0004               257             BEAT_ON BIT 04H                 ;·äÃùÆ÷¹¤×÷±êÖ¾Î»
  0005               258             FUNCTION_FLAG BIT 05H   ;¹¦ÄÜ¼üµÄ±êÖ¾¹ÒÆðÎ»
  0006               259             SKIP_2X_FLAG BIT 06H    ;¿ì½ø±êÖ¾
  0007               260             RECORDED_PLAY BIT 07H   ;Â¼Òô²¥·Å±êÖ¾Î»
                     261             
  0022               262             PAINO_MODE EQU 22H              ;Ä£Ê½£¬µÍ4Î»ÖÃÎª0Â¼Òô£¬²¥·Å£¬µ¯×à
  0010               263             PLAY_MODE BIT 10H
  0011               264             MUSIC_MODE BIT 11H
  0012               265             RECORD_MODE BIT 12H
                     266                     
  0000               267             RCD_SAVE_H EQU 00H
  0000               268             RCD_SAVE_L EQU 00H
                     269             
  0030               270             LAST_FUNCTION EQU 30H   ;ÉÏÒ»¸ö°´ÏÂµÄ¹¦ÄÜ¼ü
  0031               271             CURRENT_BEATS_H EQU 31H ;µ±Ç°²¥·ÅÒô·û
  0032               272             CURRENT_BEATS_L EQU 32H 
  0033               273             PWM_T0 EQU 33H                  ;TO¶ÔÓÚÊä³öµÄPWM
  0034               274             DELAY_T1        EQU 34H         ;T1µÄÑÓÊ±
  0035               275             TIME_H EQU 35H                  ;Ê±¼ä
  0036               276             TIME_L EQU 36H                  
  0037               277             SONG_ORDER EQU 37H              ;ÇúÄ¿Ö¸Õë
  0038               278             LCD_DATA_PTR EQU 38H    ;lcdµÄÐ´ÈëÊ¾ÝÖ¸Õë
  0039               279             BEAT_STORE EQU 39H              ;µ±Ç°Òô·û
                     280                     
                     281     
0100 752201          282             MOV PAINO_MODE, #1
                     283             
0103 75813A          284             MOV SP, #3AH
0106 7950            285             MOV R1, #50H    ;r1ÓÃÓÚ¼üÅÌÑ°Î»£¨Õ»£©
0108 7703            286             MOV @R1, #3             ;Éè¶¨³õÊ¼ÑÓÊ±Ê×Ö
010A 09              287             INC R1
010B 7700            288             MOV @R1, #0
010D 09              289             INC R1
010E 758000          290             MOV P0, #0
0111 759000          291             MOV P1, #0
0114 75A000          292             MOV P2, #0
0117 75B000          293             MOV P3, #0
                     294             
011A 1204E0          295             LCALL Init_Device
                     296     
011D                 297     ININ_LCD:
011D 75A000          298             MOV P2,#0
0120 75A0FF          299             MOV P2,#0ffh
0123 75A01F          300             MOV P2,#1fh
0126 517B            301             ACALL LCD_CLR;Çå³ÆÁÄ»
0128 758038          302             MOV P0,#38H;8Î»µãÕó·½Ê½
012B 5170            303             ACALL ENABLE
012D 75800C          304             MOV P0,#0CH;¿ªÏÔÊ¾
0130 5170            305             ACALL ENABLE
0132 758006          306             MOV P0,#06H;×Ô¶¯ÒÆ¶¯¹â±ê
0135 5170            307             ACALL ENABLE
0137 5102            308             ACALL LCD_DIY_INIT;×Ô¶¨Òå×Ö·û
0139 5170            309             ACALL ENABLE
013B 758080          310             MOV P0,#80H;ÉèÖÃÊ¾ÝÖ¸ÕëÆðµã
013E 5170            311             ACALL ENABLE
                     312             
0140                 313     MAIN_LOOP:
0140 3144            314             ACALL LCD_DISPLAY
0142 80FC            315             JMP MAIN_LOOP
                     316             
0144                 317     LCD_DISPLAY:;Ö¸¶¨Îª¹¤×÷Çø0¼Ä´æÆ÷ÓÃÓÚLCDÏÔÊ¾
0144 C2D4            318             CLR RS1
0146 C2D3            319             CLR RS0
                     320             
0148 20003F          321             JB CLR_LCD_SIG, LCD_CLR_TEMP    ;ÅÐ¶ÏÊÇ·ñÐèÒªÇåÆÁ
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     6

014B E522            322             MOV A, PAINO_MODE
014D B4013C          323             CJNE A, #01H, LCD_MUSIC_TEMP
                     324             
0150                 325     LCD_PLAY:;µ¯×àÄ£Ê½ÏÔÊ¾
0150                 326     LCD_PLAY_ROW1:
0150 900532          327             MOV DPTR,#PLAY_SCREEN1
0153 758080          328             MOV P0,#080H;µÚÒ»ÐÐµÄÎ»ÖÃ
0156 5170            329             CALL ENABLE
0158 5183            330             CALL LCD_WRITE
                     331             
015A                 332     LCD_PLAY_ROW2:
015A 90053C          333             MOV DPTR,#PLAY_SCREEN2
015D 7580C0          334             MOV P0,#0C0H;µÚ¶þÐÐµÄÎ»ÖÃ
0160 5170            335             CALL ENABLE
0162 5183            336             CALL LCD_WRITE
0164 7580C6          337             MOV P0,#0C6H;
0167 5170            338             CALL ENABLE
                     339             
0169 E539            340             MOV A, BEAT_STORE
016B B4F006          341             CJNE A, #0F0H, JIANG_DISPLAY
016E 75F00C          342             MOV B, #12
0171 218E            343             AJMP BEAT_DISPLAY
0173 22              344             RET
                     345             
0174                 346     JIANG_DISPLAY:
0174 75F00C          347             MOV B, #12
0177 84              348             DIV AB
0178 B40006          349             CJNE A, #0,SHENG_DISPLAY
017B 7402            350             MOV A, #2
017D 518E            351             CALL WRITE_IN
017F 218E            352             AJMP BEAT_DISPLAY
0181                 353     SHENG_DISPLAY:
0181 B4020A          354             CJNE A, #2,BEAT_DISPLAY
0184 7401            355             MOV A, #1
0186 518E            356             CALL WRITE_IN
0188 218E            357             AJMP BEAT_DISPLAY
                     358     
018A                 359     LCD_CLR_TEMP:;ÖÐ¼Ì
018A 417B            360             AJMP LCD_CLR
018C                 361     LCD_MUSIC_TEMP:
018C 4117            362             AJMP LCD_MUSIC
                     363             
018E                 364     BEAT_DISPLAY:
018E E5F0            365             MOV A, B
0190                 366     B12:
0190 B40C06          367             CJNE A, #12, B11
0193 900573          368             MOV DPTR, #N12
0196 5183            369             CALL LCD_WRITE
0198 22              370             RET     
0199                 371     B11:
0199 B40B06          372             CJNE A, #11, B10
019C 90056F          373             MOV DPTR, #N11
019F 5183            374             CALL LCD_WRITE
01A1 22              375             RET
01A2                 376     B10:
01A2 B40A06          377             CJNE A, #10, B9
01A5 90056B          378             MOV DPTR, #N10
01A8 5183            379             CALL LCD_WRITE
01AA 22              380             RET
01AB                 381     B9:
01AB B40906          382             CJNE A, #9, B8
01AE 900567          383             MOV DPTR, #N9
01B1 5183            384             CALL LCD_WRITE
01B3 22              385             RET
01B4                 386     B8:
01B4 B40806          387             CJNE A, #8, B7
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     7

01B7 900563          388             MOV DPTR, #N8
01BA 5183            389             CALL LCD_WRITE
01BC 22              390             RET
01BD                 391     B7:
01BD B40706          392             CJNE A, #7, B6
01C0 90055F          393             MOV DPTR, #N7
01C3 5183            394             CALL LCD_WRITE
01C5 22              395             RET
01C6                 396     B6:
01C6 B40606          397             CJNE A, #6, B5
01C9 90055B          398             MOV DPTR, #N6
01CC 5183            399             CALL LCD_WRITE
01CE 22              400             RET
01CF                 401     B5:
01CF B40506          402             CJNE A, #5, B4
01D2 900557          403             MOV DPTR, #N5
01D5 5183            404             CALL LCD_WRITE
01D7 22              405             RET
01D8                 406     B4:
01D8 B40406          407             CJNE A, #4, B3
01DB 900553          408             MOV DPTR, #N4
01DE 5183            409             CALL LCD_WRITE
01E0 22              410             RET
01E1                 411     B3:
01E1 B40306          412             CJNE A, #3, B2
01E4 90054F          413             MOV DPTR, #N3
01E7 5183            414             CALL LCD_WRITE
01E9 22              415             RET
01EA                 416     B2:
01EA B40206          417             CJNE A, #2, B1
01ED 90054B          418             MOV DPTR, #N2
01F0 5183            419             CALL LCD_WRITE
01F2 22              420             RET
01F3                 421     B1:
01F3 B40106          422             CJNE A, #1, B0
01F6 900547          423             MOV DPTR, #N1
01F9 5183            424             CALL LCD_WRITE
01FB 22              425             RET
01FC                 426     B0:
01FC 900543          427             MOV DPTR, #N0
01FF 5183            428             CALL LCD_WRITE
0201 22              429             RET
                     430     
0202                 431     LCD_DIY_INIT:
0202 900580          432             MOV DPTR,#SHENG
0205 758048          433             MOV P0,#48H
0208 5170            434             CALL ENABLE
020A 5183            435             CALL LCD_WRITE
020C 900577          436             MOV DPTR,#JIANG
020F 758050          437             MOV P0,#50H
0212 5170            438             CALL ENABLE
0214 5183            439             CALL LCD_WRITE
0216 22              440             RET
                     441             
                     442             
0217                 443     LCD_MUSIC:      ;ÒôÀÖ²¥·ÅÄ£Ê½
0217 B4022B          444             CJNE A, #02H, LCD_RECORD
021A                 445     LCD_ROW1:
021A 900589          446             MOV DPTR,#MUSIC_MODE1
021D 758080          447             MOV P0,#080H;µÚÒ»ÐÐµÄÎ»ÖÃ
0220 5170            448             CALL ENABLE
0222 5183            449             CALL LCD_WRITE
0224                 450     LCD_ROW2:
0224 E537            451             MOV A, SONG_ORDER
0226                 452     LCD_NAME0:
0226 B40005          453             CJNE A, #0, LCD_NAME1
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     8

0229 900596          454             MOV DPTR,#MUSIC_NAME0
022C 413B            455             AJMP LCD_DISPLAY_NAME
022E                 456     LCD_NAME1:
022E B40105          457             CJNE A, #1, LCD_NAME2
0231 90059E          458             MOV DPTR,#MUSIC_NAME1
0234 413B            459             AJMP LCD_DISPLAY_NAME
0236                 460     LCD_NAME2:
0236 9005A4          461             MOV DPTR,#MUSIC_NAME2
0239 413B            462             AJMP LCD_DISPLAY_NAME
023B                 463     LCD_DISPLAY_NAME:
023B 7580C6          464             MOV P0,#0C6H;µÚ¶þÐÐµÄÎ»ÖÃ
023E 5170            465             CALL ENABLE
0240 5183            466             CALL LCD_WRITE
0242 515E            467             CALL LCD_TIME_DP
0244 22              468             RET
                     469     
                     470     
0245                 471     LCD_RECORD:     ;Â¼×àÄ£Ê½
0245                 472     LCD_RECORDING_R0W1:
0245 30030C          473             JNB RECORING_SIG, LCD_RECORDED_ROW1
0248 9005AA          474             MOV DPTR,#RECORD_SCREEN1
024B 758080          475             MOV P0,#080H;µÚÒ»ÐÐµÄÎ»ÖÃ
024E 5170            476             CALL ENABLE
0250 5183            477             CALL LCD_WRITE
0252 415E            478             AJMP LCD_TIME_DP
                     479             
0254                 480     LCD_RECORDED_ROW1:
0254 9005B7          481             MOV DPTR,#RECORD_SCREEN2
0257 758080          482             MOV P0,#080H;µÚÒ»ÐÐµÄÎ»ÖÃ
025A 5170            483             CALL ENABLE
025C 5183            484             CALL LCD_WRITE
025E                 485     LCD_TIME_DP:
025E 7580C0          486             MOV P0,#0C0H;µÚ¶þÐÐµÄÎ»ÖÃ
0261 5170            487             CALL ENABLE
0263 AB35            488             MOV R3, TIME_H
0265 519B            489             CALL LCD_WRITE_NUM
0267 743A            490             MOV A, #3AH     ; Ã°ºÅµÄascII
0269 518E            491             CALL WRITE_IN
026B AB36            492             MOV R3, TIME_L
026D 519B            493             CALL LCD_WRITE_NUM
026F 22              494             RET
                     495     
                     496     
0270                 497     ENABLE:;ÊäÈëÖ¸Áî
0270 C2A3            498             CLR RS
0272 C2A4            499             CLR RW
0274 C2A5            500             CLR E
0276 51AB            501             ACALL DELAY
0278 D2A5            502             SETB E
027A 22              503             RET
                     504        
027B                 505     LCD_CLR:;Çå³ÆÁÄ»
027B C200            506             CLR CLR_LCD_SIG
027D 758001          507             MOV P0,#01H
0280 5170            508             ACALL ENABLE
0282 22              509             RET
                     510        
0283                 511     LCD_WRITE: ;Ð´Ê¾Ý
0283 7A00            512         MOV R2,#00h
0285                 513     READ_DATA:
0285 EA              514         MOV A,R2
0286 93              515         MOVC A,@A+DPTR
0287 518E            516         CALL WRITE_IN
0289 0A              517         INC R2
028A B400F8          518         CJNE A,#00h, READ_DATA
028D 22              519         RET
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE     9

028E                 520     WRITE_IN:
028E F580            521             MOV P0,A
0290 D2A3            522             SETB RS
0292 C2A4            523             CLR RW
0294 C2A5            524             CLR E
0296 51AB            525             CALL DELAY
0298 D2A5            526             SETB E
029A 22              527             RET
                     528             
029B                 529     LCD_WRITE_NUM: ;Ð´Ê×Ö
029B EB              530         MOV A, R3   ; R3ÓÃÓÚ´æ´¢±äÁ¿
029C                 531     READ_NUM:
029C 75F00A          532         MOV B, #10
029F 84              533             DIV AB
02A0 2430            534             ADD A, #30H     ;×ª»»ÎªASCII
02A2 518E            535         CALL WRITE_IN
02A4 E5F0            536         MOV A, B
02A6 2430            537             ADD A, #30H
02A8 518E            538             CALL WRITE_IN
02AA 22              539         RET
                     540     
                     541             
02AB                 542     DELAY:
02AB 7F1E            543             MOV R7,#30
02AD                 544      D1:
02AD DFFE            545             DJNZ R7,d1
02AF 22              546             RET
                     547             
02B0                 548     LCD_RT:
02B0 22              549             RET
                     550             
                     551     ;=======================================================;
                     552     ;¶¨Ê±Æ÷Ê¹ÓÃ
02B1                 553     T0_Proc:        ;¸ºÔðÒôÀÖÊä³ö²¿·Ö
                     554     ;R2¼ÇÂ¼µ±Ç°ÂÖÊ
                     555     ;R3¼ÇÂ¼Éè¶¨µÄPWM
02B1 C0E0            556             PUSH ACC        ;±£»¤
                     557     ;       PUSH PSW
                     558     ;       SETB RS1
                     559     ;       CLR RS0
                     560             
02B3 85318C          561             MOV  TH0, CURRENT_BEATS_H
02B6 85328A          562             MOV  TL0, CURRENT_BEATS_L
02B9 200402          563             JB BEAT_ON, OUT_CHANGE
02BC 41C0            564             AJMP T0_RETI
                     565             
02BE                 566     OUT_CHANGE:
02BE B2A6            567             CPL BUZZER
                     568             
02C0                 569     T0_RETI:
                     570     ;       POP PSW
02C0 D0E0            571             POP ACC
02C2 32              572             RETI
                     573     ;-------------------------------------;
02C3                 574     T1_Proc:;       »ù´¡¶¨Ê±¼ÇÂ¼Îª10ms
                     575     ;Ê¹ÓÃR4×÷ÎªÊ±¼ä±êÖ¾
                     576     ;R5ÔÝ´æÒô·û
                     577     ;Ê¹ÓÃ¼Ä´æÆ÷×é1
02C3 C0E0            578             PUSH ACC        ;±£»¤
02C5 C0D0            579             PUSH PSW
02C7 C082            580             PUSH DPL
02C9 C083            581             PUSH DPH
02CB C2D4            582             CLR RS1
02CD D2D3            583             SETB RS0
02CF E4              584             CLR A
                     585             
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    10

02D0 758DB1          586             MOV  TH1, #0B1H
02D3 758BDF          587             MOV  TL1, #0DFH
                     588     
02D6                 589     T1_DELAY1:      ;¼üÅÌÉ¨ÃèÆµÂÊÉè¶¨20Hz
02D6 D53435          590             DJNZ DELAY_T1, TEMP_TO_RETI
02D9 753405          591             MOV DELAY_T1, #5
02DC 1203CE          592             LCALL KEY_CHECK
                     593     
02DF                 594     T1_SET_BEATS: ;Éè¶¨µ±Ç°²¥·ÅµÄÒô·û
02DF E522            595             MOV A, PAINO_MODE
02E1 20E006          596             JB ACC.0, T1_SB_PLAY_MODE
02E4 20E12B          597             JB ACC.1, T1_SB_MUSIC_MODE
02E7 20E226          598             JB ACC.2, T1_SB_RECORD_MODE_TEMP
                     599     
02EA                 600     T1_SB_PLAY_MODE:
02EA E539            601             MOV A, BEAT_STORE
02EC FD              602             MOV R5, A
02ED                 603     SET_BEATS_0:            ;Òô·û×ªPWM
02ED B4FF08          604             CJNE A, #0FFH, SET_BEATS_1      ;ÅÐ¶ÏÒôÀÖ½áÊø·û
02F0 C204            605             CLR BEAT_ON
02F2 C207            606             CLR RECORDED_PLAY
02F4 D202            607             SETB MUSIC_FINSH
02F6 6190            608             AJMP T1_TIME_COUNT
02F8                 609     SET_BEATS_1:
02F8 B4F004          610             CJNE A, #0F0H, SET_BEATS        ;ÅÐ¶Ï¿Õ×ªÒô·û
02FB C204            611             CLR BEAT_ON
02FD 6190            612             AJMP T1_TIME_COUNT
02FF                 613     SET_BEATS:      
02FF 9004EA          614             MOV DPTR, #NOTE_H
0302 93              615             MOVC A, @A+DPTR
0303 F531            616             MOV CURRENT_BEATS_H, A
0305 ED              617             MOV A, R5
0306 90050E          618             MOV DPTR, #NOTE_L
0309 93              619             MOVC A, @A+DPTR
030A F532            620             MOV CURRENT_BEATS_L, A
030C 6190            621             AJMP T1_TIME_COUNT
                     622     
030E                 623     TEMP_TO_RETI:   ;ÖÐ¼ÌÎÀÐÇ
030E 61C5            624             AJMP T1_RETI
0310                 625     T1_SB_RECORD_MODE_TEMP:
0310 615E            626             AJMP T1_SB_RECORD_MODE
                     627     ;------------------------------ 
0312                 628     T1_SB_MUSIC_MODE:
0312 200245          629             JB MUSIC_FINSH, MUSIC_PAUSE     ;ÏÈÅÐ¶ÏÒôÀÖÊÇ·ñ²¥·ÅÍê³É
0315 200142          630             JB PAUSE_FLAG, MUSIC_PAUSE      ;ÔÙÅÐ¶ÏÊÇ·ñÔÝÍ£
0318 D204            631             SETB BEAT_ON
031A E537            632             MOV A, SONG_ORDER
                     633     ; ÇúÄ¿Ñ¡È¡
031C                 634     SONG0:
031C B40005          635             CJNE A, #0, SONG1
031F 9005BF          636             MOV DPTR, #MUSIC_0
0322 6131            637             AJMP PLAYER_1X
0324                 638     SONG1:
0324 B40105          639             CJNE A, #1, SONG2
0327 900624          640             MOV DPTR, #MUSIC_1
032A 6131            641             AJMP PLAYER_1X
032C                 642     SONG2:
032C 90067F          643             MOV DPTR, #MUSIC_2
032F 6131            644             AJMP PLAYER_1X
                     645             
                     646     ; ²¥·ÅËÙ¶ÈÑ¡È¡
0331                 647     PLAYER_1X:
0331 7137            648             ACALL SELECTED_MUSIC
0333 7156            649             ACALL GET_BEATS_C
0335 41ED            650             AJMP SET_BEATS_0
                     651             
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    11

0337                 652     SELECTED_MUSIC: ;»ñÈ¡Òô·ûµÄµØÖ·µ½DPTR
0337 E536            653             MOV A, TIME_L
0339 75F00A          654             MOV B, #10      ;¿ÉÒÔÉèÖÃÎª¿ì½ø
033C 84              655             DIV AB
033D 2582            656             ADD A, DPL
033F F582            657             MOV DPL, A
                     658             
0341 E535            659             MOV A, TIME_H
0343 75F00A          660             MOV B, #10
0346 84              661             DIV AB
0347 3583            662             ADDC A, DPH
0349 740A            663             MOV A, #10      ;100/10
034B A4              664             MUL AB
034C 2582            665             ADD A, DPL
034E F582            666             MOV DPL, A
0350 E4              667             CLR A
0351 3583            668             ADDC A, DPH
0353 F583            669             MOV DPH, A      ;¼ÆËãÊ±¼ä+Ñ°Ö·Î»ÖÃ
0355 22              670             RET
                     671     
0356                 672     GET_BEATS_C:;ÔÚ³ÌÐòROMÀïÃæ»ñÈ¡Òô·ûÊ¾Ý
0356 E4              673             CLR A
0357 93              674             MOVC A, @A+DPTR
0358 FD              675             MOV R5, A       ;Òô·ûÔÝ´æÈëR5
0359 22              676             RET
                     677             
035A                 678     MUSIC_PAUSE:
035A C204            679             CLR BEAT_ON
035C 41ED            680             AJMP SET_BEATS_0
                     681     ;-------------------------------
035E                 682     T1_SB_RECORD_MODE:
035E 300312          683             JNB RECORING_SIG, RECORDED      ;ÅÐ¶ÏÂ¼Òô»¹ÊÇÂ¼Òô²¥·Å
0361                 684     RECORDING:
0361 900000          685             MOV DPTR, #0    ;×¼±¸´æÈëÆ¬ÍâRAM
0364 7137            686             ACALL SELECTED_MUSIC
0366 E539            687             MOV A, BEAT_STORE
0368 F0              688             MOVX @DPTR, A   ;´æÈë
0369 FD              689             MOV R5, A
036A A3              690             INC DPTR        ;ÏÂÒ»Î»´æÈë½áÊøÎ»
036B 74FF            691             MOV A, #0FFH
036D F0              692             MOVX @DPTR, A
036E D204            693             SETB BEAT_ON
0370 ED              694             MOV A, R5
0371 41ED            695             AJMP SET_BEATS_0        ;²¥·Å·´À¡
                     696             
0373                 697     RECORDED:
0373 200704          698             JB RECORDED_PLAY, RCD_PLAY
0376 C204            699             CLR BEAT_ON
0378 61C5            700             AJMP T1_RETI
                     701     
037A                 702     RCD_PLAY:
037A 900000          703             MOV DPTR, #0
037D 7137            704             ACALL SELECTED_MUSIC
037F 7185            705             ACALL GET_BEATS_X
0381 D204            706             SETB BEAT_ON   
0383 41ED            707             AJMP SET_BEATS_0
                     708     
0385                 709     GET_BEATS_X:;ÔÚÆ¬ÄÚRAMÀïÃæ»ñÈ¡Òô·ûÊ¾Ý
0385 E0              710             MOVX A, @DPTR
0386 FD              711             MOV R5, A       ;Òô·ûÔÝ´æÈëR5
0387 22              712             RET
                     713             
                     714     ;-------------------------------
0388                 715     TT_RCD_JUDGE:   ;Â¼Òô¼ÆÊ±ÅÐ¶Ï
0388 20070E          716             JB RECORDED_PLAY, TT_C  ;Â¼ÒôµÄ²¥·Å¿ªÆô»òÕßÂ¼Òô¿ªÆôÊ±ºò¼ÆÊ±
038B 20030B          717             JB RECORING_SIG, TT_C
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    12

038E 61C5            718             AJMP T1_RETI
                     719             
0390                 720     T1_TIME_COUNT: ;¼ÆÊ±
0390 2012F5          721             JB RECORD_MODE, TT_RCD_JUDGE    ;Â¼ÒôÄ£Ê½ÏÂµÄÌØÅÐ
0393 20012F          722             JB PAUSE_FLAG, T1_RETI  ;ÅÐ¶ÏÊÇ·ñÔÝÍ£¹ÒÆð
0396 200612          723             JB SKIP_2X_FLAG, TT_C_2X
                     724             
0399                 725     TT_C:
0399 E536            726             MOV A, TIME_L
039B 2405            727             ADD A, #5
039D B4691D          728             CJNE A, #105, COUNT_PLUS_L      ; ÅÐ¶ÏÊÇ·ñ½øÎ»
03A0 753600          729             MOV TIME_L, #0
03A3 E535            730             MOV A, TIME_H
03A5 04              731             INC A
03A6 B46418          732             CJNE A, #100, COUNT_PLUS_H      ; ÅÐ¶ÏÊÇ·ñMAX
03A9 61C5            733             AJMP T1_RETI
                     734     
03AB                 735     TT_C_2X:
03AB E536            736             MOV A, TIME_L
03AD 240A            737             ADD A, #10
03AF B46E0B          738             CJNE A, #110, COUNT_PLUS_L      ; ÅÐ¶ÏÊÇ·ñ½øÎ»
03B2 753600          739             MOV TIME_L, #0
03B5 E535            740             MOV A, TIME_H
03B7 04              741             INC A
03B8 B46406          742             CJNE A, #100, COUNT_PLUS_H      ; ÅÐ¶ÏÊÇ·ñMAX
03BB 61C5            743             AJMP T1_RETI
                     744     
03BD                 745     COUNT_PLUS_L:
03BD F536            746             MOV TIME_L, A
03BF 61C5            747             AJMP T1_RETI
                     748             
03C1                 749     COUNT_PLUS_H:
03C1 F535            750             MOV TIME_H, A
03C3 61C5            751             AJMP T1_RETI
                     752             
03C5                 753     T1_RETI:
03C5 D083            754             POP DPH
03C7 D082            755             POP DPL
03C9 D0D0            756             POP PSW
03CB D0E0            757             POP ACC
03CD 32              758             RETI
                     759     
                     760     ; ¼üÅÌ¶ÁÈ¡
                     761     ; R1 ¼ÇÂ¼ A
                     762     ; R2 P3É¨Ãè
                     763     ; R3 É¨ÃèÂÖÊ*6
03CE                 764     KEY_CHECK:      
03CE                 765     KEY_GETNUM:             ;¿ªÊ¼¶ÁÈ¡Ê¾Ý
03CE 7AFE            766             MOV R2, #0FEH
03D0 7B00            767             MOV R3, #00H
                     768             
03D2                 769     SCAN_START:
03D2 8AB0            770             MOV P3, R2      ;P3 É¨Ãè
                     771     
03D4                 772     COL0:
03D4 209005          773             JB P1.0, COL1
03D7 7400            774             MOV A,#0
03D9 020404          775             LJMP CAL
03DC                 776     COL1:
03DC 209105          777             JB P1.1, COL2
03DF 7401            778             MOV A,#1
03E1 020404          779             LJMP CAL
03E4                 780     COL2:
03E4 209205          781             JB P1.2, COL3
03E7 7402            782             MOV A,#2
03E9 020404          783             LJMP CAL
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    13

03EC                 784     COL3:
03EC 209305          785             JB P1.3, COL4
03EF 7403            786             MOV A,#3
03F1 020404          787             LJMP CAL
03F4                 788     COL4:
03F4 209405          789             JB P1.4, COL5
03F7 7404            790             MOV A,#4
03F9 020404          791             LJMP CAL
03FC                 792     COL5:
03FC 209517          793             JB P1.5, KEY_P4
03FF 7405            794             MOV A,#5
0401 020404          795             LJMP CAL
                     796     
0404                 797     CAL:;µÃ³ö°´¼üÎ»ÖÃ
0404 2B              798             ADD A, R3
0405 941D            799             SUBB A, #29
0407 502E            800             JNC FUNCTION_SWITCH     ;ÅÐ¶Ï¹¦ÄÜ¼ü
0409 C3              801             CLR C
040A 241D            802             ADD A, #29
040C F539            803             MOV BEAT_STORE, A       ;´æÈëµ±Ç°Òô·û
040E 301022          804             JNB PLAY_MODE, KEY_RT   ;ÅÐ¶ÏÊÇ·ñÎªµ¯×àÄ£Ê½
0411 D204            805             SETB BEAT_ON ;¿ÉÒÔ²¥·Å
0413 020433          806             LJMP KEY_RT
                     807             
0416                 808     KEY_P4:;Ò»ÐÐÉ¨Ãè½áÊø                    
0416 EB              809             MOV A, R3
0417 2406            810             ADD A, #6
0419 FB              811             MOV R3, A;      ´æÒ»ÐÐ
041A EA              812             MOV A, R2
041B 30E505          813             JNB ACC.5, NO_INPUT 
041E 23              814             RL A
041F FA              815             MOV R2, A
0420 0203D2          816             LJMP SCAN_START
                     817     
0423                 818     NO_INPUT:
0423 201005          819             JB PLAY_MODE, FUN_FLAG_FALL
0426 201202          820             JB RECORD_MODE, FUN_FLAG_FALL
0429 C204            821             CLR BEAT_ON ;²»¿ÉÒÔ²¥·Å
042B                 822     FUN_FLAG_FALL:  ;¹¦ÄÜ¼üÈ¥¶¶¹ÒÆðÇå³
042B 7539F0          823             MOV BEAT_STORE, #0F0H
042E 20050E          824             JB FUNCTION_FLAG, FUNCTION
0431 8133            825             AJMP KEY_RT
                     826             
0433                 827     KEY_RT:
0433 75903F          828             MOV P1, #3FH
0436 22              829             RET
                     830             
                     831     ;¹¦ÄÜ×ª»»
0437                 832     FUNCTION_SWITCH:
0437 F530            833             MOV LAST_FUNCTION, A;
0439 D205            834             SETB FUNCTION_FLAG
043B C204            835             CLR BEAT_ON ;²»¿ÉÒÔ²¥·Å
043D 8133            836             AJMP KEY_RT
                     837     
043F                 838     FUNCTION:
043F C205            839             CLR FUNCTION_FLAG               ;Çå¿Õ¹ÒÆðµÄ¹¦ÄÜ¼ü·ûºÅ
0441 E530            840             MOV A, LAST_FUNCTION    ;ÅÐ¶ÏÉÏÒ»¸ö°´ÏÂµÄ¹¦ÄÜ¼ü
0443 60EE            841             JZ KEY_RT
0445 753000          842             MOV LAST_FUNCTION, #0
0448 B4041D          843             CJNE A, #4, OTHER_FUNCTION
044B E522            844             MOV A, PAINO_MODE               ;Ä£Ê½ÇÐ»»
044D 20E207          845             JB ACC.2, MODE_0
0450 23              846             RL A
0451 F522            847             MOV PAINO_MODE, A
0453 915E            848             ACALL SWITCH_CLR        ;ÇåÀí±äÁ¿
0455 8133            849             AJMP KEY_RT
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    14

                     850             
0457                 851     MODE_0:
0457 752201          852             MOV PAINO_MODE, #1
045A 915E            853             ACALL SWITCH_CLR
045C 8133            854             AJMP KEY_RT
                     855     
045E                 856     SWITCH_CLR:     ;×ª»»Ä£Ê½Ê±ºòË³±ãÇå¿Õ±äÁ¿
045E 753500          857             MOV TIME_H, #0
0461 753600          858             MOV TIME_L, #0  
0464 752001          859             MOV 20H, #1
0467 22              860             RET
                     861             
0468                 862     OTHER_FUNCTION:
0468 D200            863             SETB CLR_LCD_SIG        ;ÇåÆÁLCD
046A                 864     RECORD_KEY:     ;ÐÞ¸ÄÎªÂ¼Òô°´¼ü
046A B40610          865             CJNE A, #6, SKIP_2X
046D 3012C3          866             JNB RECORD_MODE, KEY_RT ;½öÂ¼ÒôÄ£Ê½ÏÂÓÐÐ§
0470 B203            867             CPL RECORING_SIG
0472 753500          868             MOV TIME_H, #0
0475 753600          869             MOV TIME_L, #0  
0478 7539FF          870             MOV BEAT_STORE, #0FFH
047B 8133            871             AJMP KEY_RT
                     872     
047D                 873     SKIP_2X:        ;¿ì½ø¹¦ÄÜ¼ü
047D B40507          874             CJNE A, #5, NEXT_MUSIC
0480 2010B0          875             JB PLAY_MODE, KEY_RT
0483 B206            876             CPL SKIP_2X_FLAG
0485 8133            877             AJMP KEY_RT
                     878             
0487                 879     NEXT_MUSIC:     ;Ê±¼ä´æ´¢»¹ÐèÒªÇåÁã
0487 B40313          880             CJNE A, #3, LAST_MUSIC
048A 3011A6          881             JNB MUSIC_MODE, KEY_RT  ;½öÒôÀÖÄ£Ê½ÏÂÓÐÐ§
048D E537            882             MOV A, SONG_ORDER
048F 9403            883             SUBB A, #3
0491 50A0            884             JNC KEY_RT
0493 C3              885             CLR C
0494 E537            886             MOV A, SONG_ORDER
0496 04              887             INC A
0497 F537            888             MOV SONG_ORDER, A
0499 915E            889             ACALL SWITCH_CLR
049B 8133            890             AJMP KEY_RT
                     891             
049D                 892     LAST_MUSIC:
049D B4010E          893             CJNE A, #1, PAUSE
04A0 301190          894             JNB MUSIC_MODE, KEY_RT  ;½öÒôÀÖÄ£Ê½ÏÂÓÐÐ§
04A3 E537            895             MOV A, SONG_ORDER
04A5 608C            896             JZ KEY_RT
04A7 14              897             DEC A
04A8 F537            898             MOV SONG_ORDER, A
04AA 915E            899             ACALL SWITCH_CLR
04AC 8133            900             AJMP KEY_RT
                     901     
04AE                 902     PAUSE:
04AE 201006          903             JB PLAY_MODE, KEY_RT_1
04B1 B201            904             CPL PAUSE_FLAG
04B3 B207            905             CPL RECORDED_PLAY
04B5 8133            906             AJMP KEY_RT
                     907     
04B7                 908     KEY_RT_1:
04B7 75903F          909             MOV P1, #3FH
04BA 22              910             RET
                     911     
04BB                 912     Reset_Sources_Init:
04BB 75FFDE          913         mov  WDTCN,     #0DEh
04BE 75FFAD          914         mov  WDTCN,     #0ADh
04C1 22              915         ret
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    15

                     916     
04C2                 917     Timer_Init:
04C2 758E18          918         mov  CKCON,         #018h;
04C5 758850          919             mov  TCON,      #050h
04C8 758911          920         mov  TMOD,      #011h
04CB 758AF5          921         mov  TL0,       #0F5h
04CE 758BEF          922         mov  TL1,       #0EFh
04D1 758CFF          923         mov  TH0,       #0FFh
04D4 758DD8          924         mov  TH1,       #0D8h
04D7 22              925         ret
                     926     
04D8                 927     Interrupts_Init:
04D8 75A80A          928         mov  IE,        #00Ah
04DB D288            929             setb IT0
                     930             ;setb EX0
04DD D2AF            931             setb EA
04DF 22              932         ret
                     933             
04E0                 934     Init_Device:
04E0 1204BB          935             lcall Reset_Sources_Init
04E3 1204C2          936         lcall Timer_Init
04E6 1204D8          937         lcall Interrupts_Init
04E9 22              938         ret
                     939             
04EA                 940     NOTE_H:
04EA F8F8F9F9        941     DB      0F8H, 0F8H, 0F9H, 0F9H, 0FAH, 0FAH, 0FAH, 0FBH, 0FBH, 0FBH, 0FBH, 0FCH, 0FCH, 0FCH,
                              0FCH, 0FCH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FEH,0FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0
                             FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0FFH
04EE FAFAFAFB                
04F2 FBFBFBFC                
04F6 FCFCFCFC                
04FA FDFDFDFD                
04FE FDFDFDFE                
0502 FEFEFEFE                
0506 FEFEFEFE                
050A FEFEFEFF                
050E                 942     NOTE_L:
050E 8C8F5BB8        943     DB      8CH, 8FH, 5BH, 0B8H, 15H, 67H, 0B9H, 04H, 4AH, 90H, 0BCH, 0CH, 44H, 79H, 0ACH, 0DCH
                             , 09H, 34H, 5CH, 82H, 0A6H, 0C8H, 0E7H, 05H, 21H, 3CH, 55H, 6DH, 84H, 9AH, 0ADH, 0C0H, 0D2H, 0E3H, 0F3H, 02H
0512 1567B904                
0516 4A90BC0C                
051A 4479ACDC                
051E 09345C82                
0522 A6C8E705                
0526 213C556D                
052A 849AADC0                
052E D2E3F302                
0532                 944     PLAY_SCREEN1:
0532 504C4159        945     DB "PLAY MODE"
0536 204D4F44                
053A 45                      
053B 00              946     NOP
053C                 947     PLAY_SCREEN2:
053C 42454154        948     DB "BEATS:"
0540 533A                    
0542 00              949     NOP
0543                 950     PLAY_BEATS:
0543                 951     N0:
0543 446F20          952     DB "Do "
0546 00              953     NOP
0547                 954     N1:
0547 446F23          955     DB "Do#"
054A 00              956     NOP
054B                 957     N2:
054B 526520          958     DB "Re "
054E 00              959     NOP
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    16

054F                 960     N3:
054F 526523          961     DB "Re#"
0552 00              962     NOP
0553                 963     N4:
0553 4D6920          964     DB "Mi "
0556 00              965     NOP
0557                 966     N5:
0557 466120          967     DB "Fa "
055A 00              968     NOP
055B                 969     N6:
055B 466123          970     DB "Fa#"
055E 00              971     NOP
055F                 972     N7:
055F 536F20          973     DB "So "
0562 00              974     NOP
0563                 975     N8:
0563 536F23          976     DB "So#"
0566 00              977     NOP
0567                 978     N9:
0567 4C6120          979     DB "La "
056A 00              980     NOP
056B                 981     N10:
056B 4C6123          982     DB "La#"
056E 00              983     NOP
056F                 984     N11:
056F 586920          985     DB "Xi "
0572 00              986     NOP
0573                 987     N12:
0573 202020          988     DB "   "
0576 00              989     NOP
0577                 990     CHINESE_WORDS:
0577                 991     JIANG:
0577 1F1F1F0E        992     DB 1FH, 1FH, 1FH, 0EH, 0EH, 04H, 04H, 04H
057B 0E040404                
057F 00              993     NOP
0580                 994     SHENG:
0580 0404040E        995     DB 04H, 04H, 04H, 0EH, 0EH, 1FH, 1FH, 1FH
0584 0E1F1F1F                
0588 00              996     NOP
0589                 997     MUSIC_MODE1: 
0589 54494D45        998     DB "TIME  music:"
058D 20206D75                
0591 7369633A                
0595 00              999     NOP
0596                1000     MUSIC_NAME:
0596                1001     MUSIC_NAME0: 
0596 414F2048       1002     DB "AO HARU"
059A 415255                  
059D 00             1003     NOP
059E                1004     MUSIC_NAME1: 
059E 4E414D45       1005     DB "NAME2"
05A2 32                      
05A3 00             1006     NOP
05A4                1007     MUSIC_NAME2: 
05A4 4E414D45       1008     DB "NAME3"
05A8 33                      
05A9 00             1009     NOP
05AA                1010     RECORD_SCREEN1:
05AA 5245434F       1011     DB "RECORDING..."
05AE 5244494E                
05B2 472E2E2E                
05B6 00             1012     NOP
05B7                1013     RECORD_SCREEN2:
05B7 504C4159       1014     DB "PLAYING"
05BB 494E47                  
05BE 00             1015     NOP
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    17

05BF                1016     MUSIC_LIST:
05BF                1017     MUSIC_0:
05BF F0F0F0F0       1018     DB 0F0H,0F0H,0F0H,0F0H
05C3 23211D19       1019     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
05C7 F0F0F0F0                
05CB F0F0F0F0                
05CF 23211D19       1020     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
05D3 F0F0F0F0                
05D7 F0F0F0F0                
05DB 23211D19       1021     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
05DF F0F0F0F0                
05E3 F0F0F0F0                
05E7 171B1F21       1022     DB 23, 27, 31, 33, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
05EB F0F0F0F0                
05EF F0F0F0F0                
                    1023             
05F3 23211D19       1024     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
05F7 F0F0F0F0                
05FB F0F0F0F0                
05FF 23211D19       1025     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
0603 F0F0F0F0                
0607 F0F0F0F0                
060B 23211D19       1026     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
060F F0F0F0F0                
0613 F0F0F0F0                
0617 171B1F21       1027     DB 23, 27, 31, 33, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
061B F0F0F0F0                
061F F0F0F0F0                
                    1028             
0623 FF             1029     DB 0FFH
0624                1030     MUSIC_1:
0624 1E1D1C1B       1031     DB 30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,30,29,2
                             8,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,30,29,28,27,26,25
                             ,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0FFH      
0628 1A191817                
062C 16151413                
0630 1211100F                
0634 0E0D0C0B                
0638 0A090807                
063C 06050403                
0640 02011E1D                
0644 1C1B1A19                
0648 18171615                
064C 14131211                
0650 100F0E0D                
0654 0C0B0A09                
0658 08070605                
065C 04030201                
0660 1E1D1C1B                
0664 1A191817                
0668 16151413                
066C 1211100F                
0670 0E0D0C0B                
0674 0A090807                
0678 06050403                
067C 0201FF                  
067F                1032     MUSIC_2:
067F 1E1D1C1B       1033     DB 30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,1, 2, 3
                             , 4, 5, 6, 7, 8, 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,30,29,28,
                             27,26,25,24,23,22,21,20,19,18,17,16,0FFH
0683 1A191817                
0687 16151413                
068B 1211100F                
068F 0E0D0C0B                
0693 0A090807                
0697 06050403                
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    18

069B 02010102                
069F 03040506                
06A3 0708090A                
06A7 0B0C0D0E                
06AB 0F101112                
06AF 13141516                
06B3 1718191A                
06B7 1B1C1D1E                
06BB 1E1D1C1B                
06BF 1A191817                
06C3 16151413                
06C7 121110FF                
                    1034             
                    1035     end
                             
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    19

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

AA . . . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . . . .  D ADDR   00F0H   A   
B0 . . . . . . . . . .  C ADDR   01FCH   A   
B1 . . . . . . . . . .  C ADDR   01F3H   A   
B10. . . . . . . . . .  C ADDR   01A2H   A   
B11. . . . . . . . . .  C ADDR   0199H   A   
B12. . . . . . . . . .  C ADDR   0190H   A   
B2 . . . . . . . . . .  C ADDR   01EAH   A   
B3 . . . . . . . . . .  C ADDR   01E1H   A   
B4 . . . . . . . . . .  C ADDR   01D8H   A   
B5 . . . . . . . . . .  C ADDR   01CFH   A   
B6 . . . . . . . . . .  C ADDR   01C6H   A   
B7 . . . . . . . . . .  C ADDR   01BDH   A   
B8 . . . . . . . . . .  C ADDR   01B4H   A   
B9 . . . . . . . . . .  C ADDR   01ABH   A   
BEAT_DISPLAY . . . . .  C ADDR   018EH   A   
BEAT_ON. . . . . . . .  B ADDR   0020H.4 A   
BEAT_STORE . . . . . .  N NUMB   0039H   A   
BUZZER . . . . . . . .  B ADDR   00A0H.6 A   
CAL. . . . . . . . . .  C ADDR   0404H   A   
CCF0 . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . . . .  B ADDR   00D8H.7 A   
CHINESE_WORDS. . . . .  C ADDR   0577H   A   
CKCON. . . . . . . . .  D ADDR   008EH   A   
CLR_LCD_SIG. . . . . .  B ADDR   0020H.0 A   
COL0 . . . . . . . . .  C ADDR   03D4H   A   
COL1 . . . . . . . . .  C ADDR   03DCH   A   
COL2 . . . . . . . . .  C ADDR   03E4H   A   
COL3 . . . . . . . . .  C ADDR   03ECH   A   
COL4 . . . . . . . . .  C ADDR   03F4H   A   
COL5 . . . . . . . . .  C ADDR   03FCH   A   
COUNT_PLUS_H . . . . .  C ADDR   03C1H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    20

COUNT_PLUS_L . . . . .  C ADDR   03BDH   A   
CPRL2. . . . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . . . .  D ADDR   009FH   A   
CR . . . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . . . .  B ADDR   00C8H.1 A   
CURRENT_BEATS_H. . . .  N NUMB   0031H   A   
CURRENT_BEATS_L. . . .  N NUMB   0032H   A   
CY . . . . . . . . . .  B ADDR   00D0H.7 A   
D1 . . . . . . . . . .  C ADDR   02ADH   A   
DAC0CN . . . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . . . .  D ADDR   00D6H   A   
DAC1L. . . . . . . . .  D ADDR   00D5H   A   
DELAY. . . . . . . . .  C ADDR   02ABH   A   
DELAY_T1 . . . . . . .  N NUMB   0034H   A   
DPH. . . . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . . . .  D ADDR   0082H   A   
E. . . . . . . . . . .  B ADDR   00A0H.5 A   
EA . . . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . . . .  D ADDR   00AFH   A   
EMI0TC . . . . . . . .  D ADDR   00A1H   A   
ENABLE . . . . . . . .  C ADDR   0270H   A   
ENSMB. . . . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . . . .  D ADDR   00B6H   A   
FUNCTION . . . . . . .  C ADDR   043FH   A   
FUNCTION_FLAG. . . . .  B ADDR   0020H.5 A   
FUNCTION_SWITCH. . . .  C ADDR   0437H   A   
FUN_FLAG_FALL. . . . .  C ADDR   042BH   A   
GET_BEATS_C. . . . . .  C ADDR   0356H   A   
GET_BEATS_X. . . . . .  C ADDR   0385H   A   
IE . . . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . . . .  B ADDR   0088H.3 A   
ININ_LCD . . . . . . .  C ADDR   011DH   A   
INIT . . . . . . . . .  C ADDR   0100H   A   
INIT_DEVICE. . . . . .  C ADDR   04E0H   A   
INTERRUPTS_INIT. . . .  C ADDR   04D8H   A   
IP . . . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . . . .  B ADDR   0088H.2 A   
JIANG. . . . . . . . .  C ADDR   0577H   A   
JIANG_DISPLAY. . . . .  C ADDR   0174H   A   
KEY_CHECK. . . . . . .  C ADDR   03CEH   A   
KEY_GETNUM . . . . . .  C ADDR   03CEH   A   
KEY_P4 . . . . . . . .  C ADDR   0416H   A   
KEY_RT . . . . . . . .  C ADDR   0433H   A   
KEY_RT_1 . . . . . . .  C ADDR   04B7H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    21

LAST_FUNCTION. . . . .  N NUMB   0030H   A   
LAST_MUSIC . . . . . .  C ADDR   049DH   A   
LCD_CLR. . . . . . . .  C ADDR   027BH   A   
LCD_CLR_TEMP . . . . .  C ADDR   018AH   A   
LCD_DATA_PTR . . . . .  N NUMB   0038H   A   
LCD_DISPLAY. . . . . .  C ADDR   0144H   A   
LCD_DISPLAY_NAME . . .  C ADDR   023BH   A   
LCD_DIY_INIT . . . . .  C ADDR   0202H   A   
LCD_MUSIC. . . . . . .  C ADDR   0217H   A   
LCD_MUSIC_TEMP . . . .  C ADDR   018CH   A   
LCD_NAME0. . . . . . .  C ADDR   0226H   A   
LCD_NAME1. . . . . . .  C ADDR   022EH   A   
LCD_NAME2. . . . . . .  C ADDR   0236H   A   
LCD_PLAY . . . . . . .  C ADDR   0150H   A   
LCD_PLAY_ROW1. . . . .  C ADDR   0150H   A   
LCD_PLAY_ROW2. . . . .  C ADDR   015AH   A   
LCD_RECORD . . . . . .  C ADDR   0245H   A   
LCD_RECORDED_ROW1. . .  C ADDR   0254H   A   
LCD_RECORDING_R0W1 . .  C ADDR   0245H   A   
LCD_ROW1 . . . . . . .  C ADDR   021AH   A   
LCD_ROW2 . . . . . . .  C ADDR   0224H   A   
LCD_RT . . . . . . . .  C ADDR   02B0H   A   
LCD_TIME_DP. . . . . .  C ADDR   025EH   A   
LCD_WRITE. . . . . . .  C ADDR   0283H   A   
LCD_WRITE_NUM. . . . .  C ADDR   029BH   A   
MAIN . . . . . . . . .  C ADDR   0100H   A   
MAIN_LOOP. . . . . . .  C ADDR   0140H   A   
MODE_0 . . . . . . . .  C ADDR   0457H   A   
MODF . . . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . . . .  B ADDR   00F8H.1 A   
MUSIC_0. . . . . . . .  C ADDR   05BFH   A   
MUSIC_1. . . . . . . .  C ADDR   0624H   A   
MUSIC_2. . . . . . . .  C ADDR   067FH   A   
MUSIC_FINSH. . . . . .  B ADDR   0020H.2 A   
MUSIC_LIST . . . . . .  C ADDR   05BFH   A   
MUSIC_MODE . . . . . .  B ADDR   0022H.1 A   
MUSIC_MODE1. . . . . .  C ADDR   0589H   A   
MUSIC_NAME . . . . . .  C ADDR   0596H   A   
MUSIC_NAME0. . . . . .  C ADDR   0596H   A   
MUSIC_NAME1. . . . . .  C ADDR   059EH   A   
MUSIC_NAME2. . . . . .  C ADDR   05A4H   A   
MUSIC_PAUSE. . . . . .  C ADDR   035AH   A   
N0 . . . . . . . . . .  C ADDR   0543H   A   
N1 . . . . . . . . . .  C ADDR   0547H   A   
N10. . . . . . . . . .  C ADDR   056BH   A   
N11. . . . . . . . . .  C ADDR   056FH   A   
N12. . . . . . . . . .  C ADDR   0573H   A   
N2 . . . . . . . . . .  C ADDR   054BH   A   
N3 . . . . . . . . . .  C ADDR   054FH   A   
N4 . . . . . . . . . .  C ADDR   0553H   A   
N5 . . . . . . . . . .  C ADDR   0557H   A   
N6 . . . . . . . . . .  C ADDR   055BH   A   
N7 . . . . . . . . . .  C ADDR   055FH   A   
N8 . . . . . . . . . .  C ADDR   0563H   A   
N9 . . . . . . . . . .  C ADDR   0567H   A   
NEXT_MUSIC . . . . . .  C ADDR   0487H   A   
NOTE_H . . . . . . . .  C ADDR   04EAH   A   
NOTE_L . . . . . . . .  C ADDR   050EH   A   
NO_INPUT . . . . . . .  C ADDR   0423H   A   
OSCICN . . . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . . . .  D ADDR   00B1H   A   
OTHER_FUNCTION . . . .  C ADDR   0468H   A   
OUT_CHANGE . . . . . .  C ADDR   02BEH   A   
OV . . . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . . . .  D ADDR   0080H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    22

P0MDOUT. . . . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . . . .  D ADDR   00B5H   A   
PAINO_MODE . . . . . .  N NUMB   0022H   A   
PAUSE. . . . . . . . .  C ADDR   04AEH   A   
PAUSE_FLAG . . . . . .  B ADDR   0020H.1 A   
PCA0CN . . . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . . . .  D ADDR   0087H   A   
PLAYER_1X. . . . . . .  C ADDR   0331H   A   
PLAY_BEATS . . . . . .  C ADDR   0543H   A   
PLAY_MODE. . . . . . .  B ADDR   0022H.0 A   
PLAY_SCREEN1 . . . . .  C ADDR   0532H   A   
PLAY_SCREEN2 . . . . .  C ADDR   053CH   A   
PS . . . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . . . .  B ADDR   00B8H.5 A   
PWM_T0 . . . . . . . .  N NUMB   0033H   A   
PX0. . . . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . . . .  D ADDR   00E4H   A   
RCD_PLAY . . . . . . .  C ADDR   037AH   A   
RCD_SAVE_H . . . . . .  N NUMB   0000H   A   
RCD_SAVE_L . . . . . .  N NUMB   0000H   A   
RCLK . . . . . . . . .  B ADDR   00C8H.5 A   
READ_DATA. . . . . . .  C ADDR   0285H   A   
READ_NUM . . . . . . .  C ADDR   029CH   A   
RECORDED . . . . . . .  C ADDR   0373H   A   
RECORDED_PLAY. . . . .  B ADDR   0020H.7 A   
RECORDING. . . . . . .  C ADDR   0361H   A   
RECORD_KEY . . . . . .  C ADDR   046AH   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    23

RECORD_MODE. . . . . .  B ADDR   0022H.2 A   
RECORD_SCREEN1 . . . .  C ADDR   05AAH   A   
RECORD_SCREEN2 . . . .  C ADDR   05B7H   A   
RECORING_SIG . . . . .  B ADDR   0020H.3 A   
REF0CN . . . . . . . .  D ADDR   00D1H   A   
REN. . . . . . . . . .  B ADDR   0098H.4 A   
RESET_SOURCES_INIT . .  C ADDR   04BBH   A   
RI . . . . . . . . . .  B ADDR   0098H.0 A   
RS . . . . . . . . . .  B ADDR   00A0H.3 A   
RS0. . . . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . . . .  D ADDR   00EFH   A   
RW . . . . . . . . . .  B ADDR   00A0H.4 A   
RXOVRN . . . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . . . .  D ADDR   00F2H   A   
SCAN_START . . . . . .  C ADDR   03D2H   A   
SCON0. . . . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . . . .  D ADDR   00F1H   A   
SELECTED_MUSIC . . . .  C ADDR   0337H   A   
SET_BEATS. . . . . . .  C ADDR   02FFH   A   
SET_BEATS_0. . . . . .  C ADDR   02EDH   A   
SET_BEATS_1. . . . . .  C ADDR   02F8H   A   
SHENG. . . . . . . . .  C ADDR   0580H   A   
SHENG_DISPLAY. . . . .  C ADDR   0181H   A   
SI . . . . . . . . . .  B ADDR   00C0H.3 A   
SKIP_2X. . . . . . . .  C ADDR   047DH   A   
SKIP_2X_FLAG . . . . .  B ADDR   0020H.6 A   
SLVSEL . . . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . . . .  B ADDR   00C0H.0 A   
SONG0. . . . . . . . .  C ADDR   031CH   A   
SONG1. . . . . . . . .  C ADDR   0324H   A   
SONG2. . . . . . . . .  C ADDR   032CH   A   
SONG_ORDER . . . . . .  N NUMB   0037H   A   
SP . . . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . . . .  B ADDR   00C0H.4 A   
SWITCH_CLR . . . . . .  C ADDR   045EH   A   
T0_PROC. . . . . . . .  C ADDR   02B1H   A   
T0_RETI. . . . . . . .  C ADDR   02C0H   A   
T1_DELAY1. . . . . . .  C ADDR   02D6H   A   
T1_PROC. . . . . . . .  C ADDR   02C3H   A   
T1_RETI. . . . . . . .  C ADDR   03C5H   A   
T1_SB_MUSIC_MODE . . .  C ADDR   0312H   A   
T1_SB_PLAY_MODE. . . .  C ADDR   02EAH   A   
T1_SB_RECORD_MODE. . .  C ADDR   035EH   A   
T1_SB_RECORD_MODE_TEMP  C ADDR   0310H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 16:23:54 PAGE    24

T1_SET_BEATS . . . . .  C ADDR   02DFH   A   
T1_TIME_COUNT. . . . .  C ADDR   0390H   A   
T2CON. . . . . . . . .  D ADDR   00C8H   A   
T4CON. . . . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . . . .  D ADDR   0088H   A   
TEMP_TO_RETI . . . . .  C ADDR   030EH   A   
TF0. . . . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . . . .  D ADDR   00CDH   A   
TH4. . . . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . . . .  B ADDR   0098H.1 A   
TIMER_INIT . . . . . .  C ADDR   04C2H   A   
TIME_H . . . . . . . .  N NUMB   0035H   A   
TIME_L . . . . . . . .  N NUMB   0036H   A   
TL0. . . . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . . . .  D ADDR   0092H   A   
TR0. . . . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . . . .  B ADDR   00C8H.2 A   
TT_C . . . . . . . . .  C ADDR   0399H   A   
TT_C_2X. . . . . . . .  C ADDR   03ABH   A   
TT_RCD_JUDGE . . . . .  C ADDR   0388H   A   
TXBSY. . . . . . . . .  B ADDR   00F8H.3 A   
WCOL . . . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . . . .  D ADDR   00FFH   A   
WRITE_IN . . . . . . .  C ADDR   028EH   A   
XBR0 . . . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
