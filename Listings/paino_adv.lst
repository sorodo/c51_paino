A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\paino_adv.obj
ASSEMBLER INVOKED BY: D:\Code_IDE\Keilv5\C51\BIN\A51.EXE paino_adv.a51 NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\paino_a
                      dv.lst) OBJECT(.\Objects\paino_adv.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (C8051F020.inc)
                +1     2     ;-----------------------------------------------------------------------------
                +1     3     ;       
                +1     4     ;       
                +1     5     ;
                +1     6     ;
                +1     7     ;       FILE NAME       : C8051F020.INC 
                +1     8     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1     9     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    10     ;
                +1    11     ;       REVISION 1.0    
                +1    12     ;
                +1    13     ;-----------------------------------------------------------------------------
                +1    14     ;REGISTER DEFINITIONS
                +1    15     ;
  0080          +1    16     P0       DATA  080H   ; PORT 0
  0081          +1    17     SP       DATA  081H   ; STACK POINTER
  0082          +1    18     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    19     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    20     P4       DATA  084H   ; PORT 4
  0085          +1    21     P5       DATA  085H   ; PORT 5
  0086          +1    22     P6       DATA  086H   ; PORT 6
  0087          +1    23     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    24     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    25     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    26     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    27     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    28     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    29     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    30     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    31     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    32     P1       DATA  090H   ; PORT 1
  0091          +1    33     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    34     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    35     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    36     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    37     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    38     P7       DATA  096H   ; PORT 7
  0098          +1    39     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    40     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    41     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    42     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    43     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    44     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    45     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    46     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    47     P2       DATA  0A0H   ; PORT 2
  00A1          +1    48     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    49     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    50     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    51     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    52     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    53     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1    54     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    55     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    56     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    57     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     2

  00AC          +1    58     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    59     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    60     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    61     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    62     P3       DATA  0B0H   ; PORT 3
  00B1          +1    63     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    64     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    65     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    66     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    67     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    68     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    69     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    70     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    71     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    72     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    73     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    74     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    75     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    76     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    77     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    78     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    79     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    80     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    81     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    82     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    83     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    84     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    85     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    86     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    87     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    88     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    89     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    90     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    91     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    92     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    93     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    94     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1    95     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1    96     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1    97     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1    98     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1    99     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   100     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   101     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   102     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   103     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   104     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   105     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   106     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   107     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   108     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   109     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   110     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   111     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   112     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   113     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   114     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   115     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   116     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   117     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   118     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   119     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
  00EE          +1   120     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   121     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   122     B        DATA  0F0H   ; B REGISTER
  00F1          +1   123     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     3

  00F2          +1   124     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   125     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   126     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   127     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   128     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   129     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   130     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   131     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   132     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   133     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   134     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   135     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   136     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   137     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   138     ;
                +1   139     ;------------------------------------------------------------------------------
                +1   140     ;BIT DEFINITIONS
                +1   141     ;
                +1   142     ; TCON 88H
  0088          +1   143     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   144     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   145     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   146     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   147     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   148     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   149     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   150     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   151     ;
                +1   152     ; SCON0 98H
  0098          +1   153     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   154     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   155     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   156     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   157     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   158     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   159     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   160     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   161     ; 
                +1   162     ; IE A8H
  00A8          +1   163     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   164     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   165     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   166     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   167     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   168     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   169     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   170     ;
                +1   171     ; IP B8H
  00B8          +1   172     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   173     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   174     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   175     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   176     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   177     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   178     ;
                +1   179     ; SMB0CN C0H
  00C0          +1   180     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   181     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   182     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   183     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   184     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   185     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
  00C6          +1   186     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   187     ;
                +1   188     ; T2CON C8H
  00C8          +1   189     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     4

  00C9          +1   190     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   191     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   192     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   193     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   194     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   195     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   196     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   197     ;
                +1   198     ; PSW D0H
  00D0          +1   199     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   200     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   201     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   202     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   203     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   204     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   205     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   206     CY       BIT   PSW.7  ; CARRY FLAG
                +1   207     ;
                +1   208     ; PCA0CN D8H
  00D8          +1   209     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   210     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   211     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   212     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   213     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   214     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   215     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   216     ;
                +1   217     ; ADC0CN E8H
  00E8          +1   218     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   219     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   220     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   221     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   222     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   223     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   224     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   225     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   226     ;
                +1   227     ; SPI0CN F8H
  00F8          +1   228     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   229     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   230     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   231     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   232     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   233     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   234     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   235     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     236     
                     237             
0000                 238     ORG 0000H       
0000 020100          239     LJMP MAIN
000B                 240     ORG 000BH
000B 0201FB          241     LJMP T0_Proc
001B                 242     ORG 001BH
001B 02020D          243     LJMP T1_Proc
                     244             
0100                 245     ORG 0100H
0100                 246     MAIN:
0100                 247     INIT:
  00A3               248             RS BIT P2.3
  00A4               249             RW BIT P2.4
  00A5               250             E BIT P2.5
  00A6               251             BUZZER  BIT P2.6
                     252                     
  0000               253             CLR_LCD_SIG BIT 00H             ;ÇåÁã±êÖ¾Î»
  0001               254             PAUSE_FLAG BIT 01H              ;ÔÝÍ£±êÖ¾Î»
  0002               255             MUSIC_FINSH BIT 02H             ;ÒôÀÖ²¥·ÅÍê³É±êÖ¾Î»
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     5

  0003               256             RECORING_SIG BIT 03H    ;Â¼Òô±êÖ¾Î»
  0004               257             BEAT_ON BIT 04H                 ;·äÃùÆ÷¹¤×÷±êÖ¾Î»
  0005               258             FUNCTION_FLAG BIT 05H   ;¹¦ÄÜ¼üµÄ±êÖ¾¹ÒÆðÎ»
  0006               259             SKIP_2X_FLAG BIT 06H    ;¿ì½ø±êÖ¾
  0007               260             RECORDED_PLAY BIT 07H   ;Â¼Òô²¥·Å±êÖ¾Î»
                     261             
  0022               262             PAINO_MODE EQU 22H              ;Ä£Ê½£¬µÍ4Î»ÖÃÎª0Â¼Òô£¬²¥·Å£¬µ¯×à
  0010               263             PLAY_MODE BIT 10H
  0011               264             MUSIC_MODE BIT 11H
  0012               265             RECORD_MODE BIT 12H
                     266                     
  0000               267             RCD_SAVE_H EQU 00H
  0000               268             RCD_SAVE_L EQU 00H
                     269             
  0030               270             LAST_FUNCTION EQU 30H   ;ÉÏÒ»¸ö°´ÏÂµÄ¹¦ÄÜ¼ü
  0031               271             CURRENT_BEATS_H EQU 31H ;µ±Ç°²¥·ÅÒô·û
  0032               272             CURRENT_BEATS_L EQU 32H 
  0033               273             PWM_T0 EQU 33H                  ;TO¶ÔÓÚÊä³öµÄPWM
  0034               274             DELAY_T1        EQU 34H         ;T1µÄÑÓÊ±
  0035               275             TIME_H EQU 35H                  ;Ê±¼ä
  0036               276             TIME_L EQU 36H                  
  0037               277             SONG_ORDER EQU 37H              ;ÇúÄ¿Ö¸Õë
  0038               278             LCD_DATA_PTR EQU 38H    ;lcdµÄÐ´ÈëÊ¾ÝÖ¸Õë
  0039               279             BEAT_STORE EQU 39H              ;µ±Ç°Òô·û
                     280                     
                     281     
0100 752201          282             MOV PAINO_MODE, #1
                     283             
0103 75813A          284             MOV SP, #3AH
0106 7950            285             MOV R1, #50H    ;r1ÓÃÓÚ¼üÅÌÑ°Î»£¨Õ»£©
0108 7703            286             MOV @R1, #3             ;Éè¶¨³õÊ¼ÑÓÊ±Ê×Ö
010A 09              287             INC R1
010B 7700            288             MOV @R1, #0
010D 09              289             INC R1
010E 758000          290             MOV P0, #0
0111 759000          291             MOV P1, #0
0114 75A000          292             MOV P2, #0
0117 75B000          293             MOV P3, #0
                     294             
011A 120413          295             LCALL Init_Device
                     296     
011D                 297     ININ_LCD_:
011D 75A000          298             MOV P2,#0
0120 75A0FF          299             MOV P2,#0ffh
0123 75A01F          300             MOV P2,#1fh
0126 31C5            301             ACALL LCD_CLR;Çå³ÆÁÄ»
0128 758038          302             MOV P0,#38H;8Î»µãÕó·½Ê½
012B 31BA            303             ACALL ENABLE
012D 75800C          304             MOV P0,#0CH;¿ªÏÔÊ¾
0130 31BA            305             ACALL ENABLE
0132 758006          306             MOV P0,#06H;×Ô¶¯ÒÆ¶¯¹â±ê
0135 31BA            307             ACALL ENABLE
0137 758080          308             MOV P0,#80H;ÉèÖÃÊ¾ÝÖ¸ÕëÆðµã
013A 31BA            309             ACALL ENABLE
                     310             
013C                 311     MAIN_LOOP:
013C 3140            312             ACALL LCD_DISPLAY
013E 80FC            313             JMP MAIN_LOOP
                     314             
0140                 315     LCD_DISPLAY:;Ö¸¶¨Îª¹¤×÷Çø0¼Ä´æÆ÷ÓÃÓÚLCDÏÔÊ¾
0140 C2D4            316             CLR RS1
0142 C2D3            317             CLR RS0
                     318             
0144 20007E          319             JB CLR_LCD_SIG, LCD_CLR ;ÅÐ¶ÏÊÇ·ñÐèÒªÇåÆÁ
0147 E522            320             MOV A, PAINO_MODE
0149 B40115          321             CJNE A, #01H, LCD_MUSIC
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     6

                     322             
014C                 323     LCD_PLAY:;µ¯×àÄ£Ê½ÏÔÊ¾
014C                 324     LCD_PLAY_ROW1:
014C 900465          325             MOV DPTR,#PLAY_SCREEN1
014F 758080          326             MOV P0,#080h;µÚÒ»ÐÐµÄÎ»ÖÃ
0152 31BA            327             CALL ENABLE
0154 31CD            328             CALL LCD_WRITE
                     329             
0156                 330     LCD_PLAY_ROW2:
0156 900476          331             MOV DPTR,#PLAY_SCREEN2
0159 7580C0          332             MOV P0,#0C0h;µÚ¶þÐÐµÄÎ»ÖÃ
015C 31BA            333             CALL ENABLE
015E 31CD            334             CALL LCD_WRITE
0160 22              335             RET
                     336             
                     337             
0161                 338     LCD_MUSIC:      ;ÒôÀÖ²¥·ÅÄ£Ê½
0161 B4022B          339             CJNE A, #02H, LCD_RECORD
0164                 340     LCD_ROW1:
0164 90047C          341             MOV DPTR,#MUSIC_MODE1
0167 758080          342             MOV P0,#080h;µÚÒ»ÐÐµÄÎ»ÖÃ
016A 31BA            343             CALL ENABLE
016C 31CD            344             CALL LCD_WRITE
016E                 345     LCD_ROW2:
016E E537            346             MOV A, SONG_ORDER
0170                 347     LCD_NAME0:
0170 B40005          348             CJNE A, #0, LCD_NAME1
0173 90048C          349             MOV DPTR,#MUSIC_NAME0
0176 2185            350             AJMP LCD_DISPLAY_NAME
0178                 351     LCD_NAME1:
0178 B40105          352             CJNE A, #1, LCD_NAME2
017B 900494          353             MOV DPTR,#MUSIC_NAME1
017E 2185            354             AJMP LCD_DISPLAY_NAME
0180                 355     LCD_NAME2:
0180 90049A          356             MOV DPTR,#MUSIC_NAME2
0183 2185            357             AJMP LCD_DISPLAY_NAME
0185                 358     LCD_DISPLAY_NAME:
0185 7580C6          359             MOV P0,#0C6h;µÚ¶þÐÐµÄÎ»ÖÃ
0188 31BA            360             CALL ENABLE
018A 31CD            361             CALL LCD_WRITE
018C 31A8            362             CALL LCD_TIME_DP
018E 22              363             RET
                     364     
                     365     
018F                 366     LCD_RECORD:     ;Â¼×àÄ£Ê½
018F                 367     LCD_RECORDING_R0W1:
018F 30030C          368             JNB RECORING_SIG, LCD_RECORDED_ROW1
0192 9004A0          369             MOV DPTR,#RECORD_SCREEN1
0195 758080          370             MOV P0,#080h;µÚÒ»ÐÐµÄÎ»ÖÃ
0198 31BA            371             CALL ENABLE
019A 31CD            372             CALL LCD_WRITE
019C 21A8            373             AJMP LCD_TIME_DP
                     374             
019E                 375     LCD_RECORDED_ROW1:
019E 9004AD          376             MOV DPTR,#RECORD_SCREEN2
01A1 758080          377             MOV P0,#080h;µÚÒ»ÐÐµÄÎ»ÖÃ
01A4 31BA            378             CALL ENABLE
01A6 31CD            379             CALL LCD_WRITE
01A8                 380     LCD_TIME_DP:
01A8 7580C0          381             MOV P0,#0C0h;µÚ¶þÐÐµÄÎ»ÖÃ
01AB 31BA            382             CALL ENABLE
01AD AB35            383             MOV R3, TIME_H
01AF 31E5            384             CALL LCD_WRITE_NUM
01B1 743A            385             MOV A, #3AH     ; Ã°ºÅµÄascII
01B3 31D8            386             CALL WRITE_IN
01B5 AB36            387             MOV R3, TIME_L
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     7

01B7 31E5            388             CALL LCD_WRITE_NUM
01B9 22              389             RET
                     390     
                     391     
01BA                 392     ENABLE:;ÊäÈëÖ¸Áî
01BA C2A3            393             CLR RS
01BC C2A4            394             CLR RW
01BE C2A5            395             CLR E
01C0 31F5            396             ACALL DELAY
01C2 D2A5            397             SETB E
01C4 22              398             RET
                     399        
01C5                 400     LCD_CLR:;Çå³ÆÁÄ»
01C5 C200            401             CLR CLR_LCD_SIG
01C7 758001          402             MOV P0,#01H
01CA 31BA            403             ACALL ENABLE
01CC 22              404             RET
                     405        
01CD                 406     LCD_WRITE: ;Ð´Ê¾Ý
01CD 7A00            407         MOV R2,#00h
01CF                 408     READ_DATA:
01CF EA              409         MOV A,R2
01D0 93              410         MOVC A,@A+DPTR
01D1 31D8            411         CALL WRITE_IN
01D3 0A              412         INC R2
01D4 B400F8          413         CJNE A,#00h, READ_DATA
01D7 22              414         RET
01D8                 415     WRITE_IN:
01D8 F580            416             MOV P0,A
01DA D2A3            417             SETB RS
01DC C2A4            418             CLR RW
01DE C2A5            419             CLR E
01E0 31F5            420             CALL DELAY
01E2 D2A5            421             SETB E
01E4 22              422             RET
                     423             
01E5                 424     LCD_WRITE_NUM: ;Ð´Ê×Ö
01E5 EB              425         MOV A, R3   ; R3ÓÃÓÚ´æ´¢±äÁ¿
01E6                 426     READ_NUM:
01E6 75F00A          427         MOV B, #10
01E9 84              428             DIV AB
01EA 2430            429             ADD A, #30H     ;×ª»»ÎªASCII
01EC 31D8            430         CALL WRITE_IN
01EE E5F0            431         MOV A, B
01F0 2430            432             ADD A, #30H
01F2 31D8            433             CALL WRITE_IN
01F4 22              434         RET
                     435     
                     436             
01F5                 437     DELAY:
01F5 7F1E            438             MOV R7,#30
01F7                 439      D1:
01F7 DFFE            440             DJNZ R7,d1
01F9 22              441             RET
                     442             
01FA                 443     LCD_RT:
01FA 22              444             RET
                     445             
                     446     ;=======================================================;
                     447     ;¶¨Ê±Æ÷Ê¹ÓÃ
01FB                 448     T0_Proc:        ;¸ºÔðÒôÀÖÊä³ö²¿·Ö
                     449     ;R2¼ÇÂ¼µ±Ç°ÂÖÊ
                     450     ;R3¼ÇÂ¼Éè¶¨µÄPWM
01FB C0E0            451             PUSH ACC        ;±£»¤
                     452     ;       PUSH PSW
                     453     ;       SETB RS1
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     8

                     454     ;       CLR RS0
                     455             
01FD 85318C          456             MOV  TH0, CURRENT_BEATS_H
0200 85328A          457             MOV  TL0, CURRENT_BEATS_L
0203 200402          458             JB BEAT_ON, OUT_CHANGE
0206 410A            459             AJMP T0_RETI
                     460             
0208                 461     OUT_CHANGE:
0208 B2A6            462             CPL BUZZER
                     463             
020A                 464     T0_RETI:
                     465     ;       POP PSW
020A D0E0            466             POP ACC
020C 32              467             RETI
                     468     ;-------------------------------------;
020D                 469     T1_Proc:;       »ù´¡¶¨Ê±¼ÇÂ¼Îª10ms
                     470     ;Ê¹ÓÃR4×÷ÎªÊ±¼ä±êÖ¾
                     471     ;R5ÔÝ´æÒô·û
                     472     ;Ê¹ÓÃ¼Ä´æÆ÷×é1
020D C0E0            473             PUSH ACC        ;±£»¤
020F C0D0            474             PUSH PSW
0211 C082            475             PUSH DPL
0213 C083            476             PUSH DPH
0215 C2D4            477             CLR RS1
0217 D2D3            478             SETB RS0
0219 E4              479             CLR A
                     480             
021A 758DB1          481             MOV  TH1, #0B1H
021D 758BDF          482             MOV  TL1, #0DFH
                     483     
0220                 484     T1_DELAY1:      ;¼üÅÌÉ¨ÃèÆµÂÊÉè¶¨20Hz
0220 D53435          485             DJNZ DELAY_T1, TEMP_TO_RETI
0223 753405          486             MOV DELAY_T1, #5
0226 120301          487             LCALL KEY_CHECK
                     488     
0229                 489     T1_SET_BEATS: ;Éè¶¨µ±Ç°²¥·ÅµÄÒô·û
0229 E522            490             MOV A, PAINO_MODE
022B 20E006          491             JB ACC.0, T1_SB_PLAY_MODE
022E 20E129          492             JB ACC.1, T1_SB_MUSIC_MODE
0231 20E272          493             JB ACC.2, T1_SB_RECORD_MODE
                     494     
0234                 495     T1_SB_PLAY_MODE:
0234 E539            496             MOV A, BEAT_STORE
0236 FD              497             MOV R5, A
0237                 498     SET_BEATS_0:            ;Òô·û×ªPWM
0237 B4FF08          499             CJNE A, #0FFH, SET_BEATS_1      ;ÅÐ¶ÏÒôÀÖ½áÊø·û
023A C204            500             CLR BEAT_ON
023C C207            501             CLR RECORDED_PLAY
023E D202            502             SETB MUSIC_FINSH
0240 41D8            503             AJMP T1_TIME_COUNT
0242                 504     SET_BEATS_1:
0242 B4F004          505             CJNE A, #0F0H, SET_BEATS        ;ÅÐ¶Ï¿Õ×ªÒô·û
0245 C204            506             CLR BEAT_ON
0247 41D8            507             AJMP T1_TIME_COUNT
0249                 508     SET_BEATS:      
0249 90041D          509             MOV DPTR, #NOTE_H
024C 93              510             MOVC A, @A+DPTR
024D F531            511             MOV CURRENT_BEATS_H, A
024F ED              512             MOV A, R5
0250 900441          513             MOV DPTR, #NOTE_L
0253 93              514             MOVC A, @A+DPTR
0254 F532            515             MOV CURRENT_BEATS_L, A
0256 41D8            516             AJMP T1_TIME_COUNT
                     517     
0258                 518     TEMP_TO_RETI:   ;ÖÐ¼ÌÎÀÐÇ
0258 41F8            519             AJMP T1_RETI
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE     9

                     520     ;------------------------------ 
025A                 521     T1_SB_MUSIC_MODE:
025A 200245          522             JB MUSIC_FINSH, MUSIC_PAUSE     ;ÏÈÅÐ¶ÏÒôÀÖÊÇ·ñ²¥·ÅÍê³É
025D 200142          523             JB PAUSE_FLAG, MUSIC_PAUSE      ;ÔÙÅÐ¶ÏÊÇ·ñÔÝÍ£
0260 D204            524             SETB BEAT_ON
0262 E537            525             MOV A, SONG_ORDER
0264                 526     SONG0:
0264 B40009          527             CJNE A, #0, SONG1
0267 9004B5          528             MOV DPTR, #MUSIC_0
026A 517F            529             ACALL SELECTED_MUSIC
026C 519E            530             ACALL GET_BEATS_C
026E 4137            531             AJMP SET_BEATS_0
0270                 532     SONG1:
0270 B40109          533             CJNE A, #1, SONG2
0273 90051A          534             MOV DPTR, #MUSIC_1
0276 517F            535             ACALL SELECTED_MUSIC
0278 519E            536             ACALL GET_BEATS_C
027A 4137            537             AJMP SET_BEATS_0
027C                 538     SONG2:
027C 900575          539             MOV DPTR, #MUSIC_2
027F                 540     SELECTED_MUSIC: ;»ñÈ¡Òô·ûµÄµØÖ·µ½DPTR
027F E536            541             MOV A, TIME_L
0281 75F00A          542             MOV B, #10      ;¿ÉÒÔÉèÖÃÎª¿ì½ø
0284 84              543             DIV AB
0285 2582            544             ADD A, DPL
0287 F582            545             MOV DPL, A
                     546             
0289 E535            547             MOV A, TIME_H
028B 75F00A          548             MOV B, #10
028E 84              549             DIV AB
028F 3583            550             ADDC A, DPH
0291 740A            551             MOV A, #10      ;100/10
0293 A4              552             MUL AB
0294 2582            553             ADD A, DPL
0296 F582            554             MOV DPL, A
0298 E4              555             CLR A
0299 3583            556             ADDC A, DPH
029B F583            557             MOV DPH, A      ;¼ÆËãÊ±¼ä+Ñ°Ö·Î»ÖÃ
029D 22              558             RET
                     559     
029E                 560     GET_BEATS_C:;ÔÚ³ÌÐòROMÀïÃæ»ñÈ¡Òô·ûÊ¾Ý
029E E4              561             CLR A
029F 93              562             MOVC A, @A+DPTR
02A0 FD              563             MOV R5, A       ;Òô·ûÔÝ´æÈëR5
02A1 22              564             RET
                     565             
02A2                 566     MUSIC_PAUSE:
02A2 C204            567             CLR BEAT_ON
02A4 4137            568             AJMP SET_BEATS_0
                     569     ;-------------------------------
02A6                 570     T1_SB_RECORD_MODE:
02A6 300312          571             JNB RECORING_SIG, RECORDED      ;ÅÐ¶ÏÂ¼Òô»¹ÊÇÂ¼Òô²¥·Å
02A9                 572     RECORDING:
02A9 900000          573             MOV DPTR, #0    ;×¼±¸´æÈëÆ¬ÍâRAM
02AC 517F            574             ACALL SELECTED_MUSIC
02AE E539            575             MOV A, BEAT_STORE
02B0 F0              576             MOVX @DPTR, A   ;´æÈë
02B1 FD              577             MOV R5, A
02B2 A3              578             INC DPTR        ;ÏÂÒ»Î»´æÈë½áÊøÎ»
02B3 74FF            579             MOV A, #0FFH
02B5 F0              580             MOVX @DPTR, A
02B6 D204            581             SETB BEAT_ON
02B8 ED              582             MOV A, R5
02B9 4137            583             AJMP SET_BEATS_0        ;²¥·Å·´À¡
                     584             
02BB                 585     RECORDED:
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    10

02BB 200704          586             JB RECORDED_PLAY, RCD_PLAY
02BE C204            587             CLR BEAT_ON
02C0 41F8            588             AJMP T1_RETI
                     589     
02C2                 590     RCD_PLAY:
02C2 900000          591             MOV DPTR, #0
02C5 517F            592             ACALL SELECTED_MUSIC
02C7 51CD            593             ACALL GET_BEATS_X
02C9 D204            594             SETB BEAT_ON   
02CB 4137            595             AJMP SET_BEATS_0
                     596     
02CD                 597     GET_BEATS_X:;ÔÚÆ¬ÄÚRAMÀïÃæ»ñÈ¡Òô·ûÊ¾Ý
02CD E0              598             MOVX A, @DPTR
02CE FD              599             MOV R5, A       ;Òô·ûÔÝ´æÈëR5
02CF 22              600             RET
                     601             
                     602     ;-------------------------------
02D0                 603     TT_RCD_JUDGE:   ;Â¼Òô¼ÆÊ±ÅÐ¶Ï
02D0 20070B          604             JB RECORDED_PLAY, TT_C  ;Â¼ÒôµÄ²¥·Å¿ªÆô»òÕßÂ¼Òô¿ªÆôÊ±ºò¼ÆÊ±
02D3 200308          605             JB RECORING_SIG, TT_C
02D6 41F8            606             AJMP T1_RETI
                     607             
02D8                 608     T1_TIME_COUNT: ;¼ÆÊ±
02D8 2012F5          609             JB RECORD_MODE, TT_RCD_JUDGE    ;Â¼ÒôÄ£Ê½ÏÂµÄÌØÅÐ
02DB 20011A          610             JB PAUSE_FLAG, T1_RETI  ;ÅÐ¶ÏÊÇ·ñÔÝÍ£¹ÒÆð
                     611             
02DE                 612     TT_C:
02DE E536            613             MOV A, TIME_L
02E0 2405            614             ADD A, #5
02E2 B4690B          615             CJNE A, #105, COUNT_PLUS_L      ; ÅÐ¶ÏÊÇ·ñ½øÎ»
02E5 753600          616             MOV TIME_L, #0
02E8 E535            617             MOV A, TIME_H
02EA 04              618             INC A
02EB B46406          619             CJNE A, #100, COUNT_PLUS_H      ; ÅÐ¶ÏÊÇ·ñMAX
02EE 41F8            620             AJMP T1_RETI
                     621     
02F0                 622     COUNT_PLUS_L:
02F0 F536            623             MOV TIME_L, A
02F2 41F8            624             AJMP T1_RETI
                     625             
02F4                 626     COUNT_PLUS_H:
02F4 F535            627             MOV TIME_H, A
02F6 41F8            628             AJMP T1_RETI
                     629             
02F8                 630     T1_RETI:
02F8 D083            631             POP DPH
02FA D082            632             POP DPL
02FC D0D0            633             POP PSW
02FE D0E0            634             POP ACC
0300 32              635             RETI
                     636     
                     637     ; ¼üÅÌ¶ÁÈ¡
                     638     ; R1 ¼ÇÂ¼ A
                     639     ; R2 P3É¨Ãè
                     640     ; R3 É¨ÃèÂÖÊ*6
0301                 641     KEY_CHECK:      
0301                 642     KEY_GETNUM:             ;¿ªÊ¼¶ÁÈ¡Ê¾Ý
0301 7AFE            643             MOV R2, #0FEH
0303 7B00            644             MOV R3, #00H
                     645             
0305                 646     SCAN_START:
0305 8AB0            647             MOV P3, R2      ;P3 É¨Ãè
                     648     
0307                 649     COL0:
0307 209005          650             JB P1.0, COL1
030A 7400            651             MOV A,#0
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    11

030C 020337          652             LJMP CAL
030F                 653     COL1:
030F 209105          654             JB P1.1, COL2
0312 7401            655             MOV A,#1
0314 020337          656             LJMP CAL
0317                 657     COL2:
0317 209205          658             JB P1.2, COL3
031A 7402            659             MOV A,#2
031C 020337          660             LJMP CAL
031F                 661     COL3:
031F 209305          662             JB P1.3, COL4
0322 7403            663             MOV A,#3
0324 020337          664             LJMP CAL
0327                 665     COL4:
0327 209405          666             JB P1.4, COL5
032A 7404            667             MOV A,#4
032C 020337          668             LJMP CAL
032F                 669     COL5:
032F 209517          670             JB P1.5, KEY_P4
0332 7405            671             MOV A,#5
0334 020337          672             LJMP CAL
                     673     
0337                 674     CAL:;µÃ³ö°´¼üÎ»ÖÃ
0337 2B              675             ADD A, R3
0338 941D            676             SUBB A, #29
033A 502E            677             JNC FUNCTION_SWITCH     ;ÅÐ¶Ï¹¦ÄÜ¼ü
033C C3              678             CLR C
033D 241D            679             ADD A, #29
033F F539            680             MOV BEAT_STORE, A       ;´æÈëµ±Ç°Òô·û
0341 301022          681             JNB PLAY_MODE, KEY_RT   ;ÅÐ¶ÏÊÇ·ñÎªµ¯×àÄ£Ê½
0344 D204            682             SETB BEAT_ON ;¿ÉÒÔ²¥·Å
0346 020366          683             LJMP KEY_RT
                     684             
0349                 685     KEY_P4:;Ò»ÐÐÉ¨Ãè½áÊø                    
0349 EB              686             MOV A, R3
034A 2406            687             ADD A, #6
034C FB              688             MOV R3, A;      ´æÒ»ÐÐ
034D EA              689             MOV A, R2
034E 30E505          690             JNB ACC.5, NO_INPUT 
0351 23              691             RL A
0352 FA              692             MOV R2, A
0353 020305          693             LJMP SCAN_START
                     694     
0356                 695     NO_INPUT:
0356 201005          696             JB PLAY_MODE, FUN_FLAG_FALL
0359 201202          697             JB RECORD_MODE, FUN_FLAG_FALL
035C C204            698             CLR BEAT_ON ;²»¿ÉÒÔ²¥·Å
035E                 699     FUN_FLAG_FALL:  ;¹¦ÄÜ¼üÈ¥¶¶¹ÒÆðÇå³
035E 7539F0          700             MOV BEAT_STORE, #0F0H
0361 20050E          701             JB FUNCTION_FLAG, FUNCTION
0364 6166            702             AJMP KEY_RT
                     703             
0366                 704     KEY_RT:
0366 75903F          705             MOV P1, #3FH
0369 22              706             RET
                     707             
                     708     ;¹¦ÄÜ×ª»»
036A                 709     FUNCTION_SWITCH:
036A F530            710             MOV LAST_FUNCTION, A;
036C D205            711             SETB FUNCTION_FLAG
036E C204            712             CLR BEAT_ON ;²»¿ÉÒÔ²¥·Å
0370 6166            713             AJMP KEY_RT
                     714     
0372                 715     FUNCTION:
0372 C205            716             CLR FUNCTION_FLAG               ;Çå¿Õ¹ÒÆðµÄ¹¦ÄÜ¼ü·ûºÅ
0374 E530            717             MOV A, LAST_FUNCTION    ;ÅÐ¶ÏÉÏÒ»¸ö°´ÏÂµÄ¹¦ÄÜ¼ü
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    12

0376 60EE            718             JZ KEY_RT
0378 753000          719             MOV LAST_FUNCTION, #0
037B B4041D          720             CJNE A, #4, OTHER_FUNCTION
037E E522            721             MOV A, PAINO_MODE               ;Ä£Ê½ÇÐ»»
0380 20E207          722             JB ACC.2, MODE_0
0383 23              723             RL A
0384 F522            724             MOV PAINO_MODE, A
0386 7191            725             ACALL SWITCH_CLR        ;ÇåÀí±äÁ¿
0388 6166            726             AJMP KEY_RT
                     727             
038A                 728     MODE_0:
038A 752201          729             MOV PAINO_MODE, #1
038D 7191            730             ACALL SWITCH_CLR
038F 6166            731             AJMP KEY_RT
                     732     
0391                 733     SWITCH_CLR:     ;×ª»»Ä£Ê½Ê±ºòË³±ãÇå¿Õ±äÁ¿
0391 753500          734             MOV TIME_H, #0
0394 753600          735             MOV TIME_L, #0  
0397 752001          736             MOV 20H, #1
039A 22              737             RET
                     738             
039B                 739     OTHER_FUNCTION:
039B D200            740             SETB CLR_LCD_SIG        ;ÇåÆÁLCD
039D                 741     RECORD_KEY:     ;ÐÞ¸ÄÎªÂ¼Òô°´¼ü
039D B40610          742             CJNE A, #6, SKIP_2X
03A0 3012C3          743             JNB RECORD_MODE, KEY_RT ;½öÂ¼ÒôÄ£Ê½ÏÂÓÐÐ§
03A3 B203            744             CPL RECORING_SIG
03A5 753500          745             MOV TIME_H, #0
03A8 753600          746             MOV TIME_L, #0  
03AB 7539FF          747             MOV BEAT_STORE, #0FFH
03AE 6166            748             AJMP KEY_RT
                     749     
03B0                 750     SKIP_2X:        ;¿ì½ø¹¦ÄÜ¼ü
03B0 B40507          751             CJNE A, #5, NEXT_MUSIC
03B3 2010B0          752             JB PLAY_MODE, KEY_RT
03B6 B206            753             CPL SKIP_2X_FLAG
03B8 6166            754             AJMP KEY_RT
                     755             
03BA                 756     NEXT_MUSIC:     ;Ê±¼ä´æ´¢»¹ÐèÒªÇåÁã
03BA B40313          757             CJNE A, #3, LAST_MUSIC
03BD 3011A6          758             JNB MUSIC_MODE, KEY_RT  ;½öÒôÀÖÄ£Ê½ÏÂÓÐÐ§
03C0 E537            759             MOV A, SONG_ORDER
03C2 9403            760             SUBB A, #3
03C4 50A0            761             JNC KEY_RT
03C6 C3              762             CLR C
03C7 E537            763             MOV A, SONG_ORDER
03C9 04              764             INC A
03CA F537            765             MOV SONG_ORDER, A
03CC 7191            766             ACALL SWITCH_CLR
03CE 6166            767             AJMP KEY_RT
                     768             
03D0                 769     LAST_MUSIC:
03D0 B4010E          770             CJNE A, #1, PAUSE
03D3 301190          771             JNB MUSIC_MODE, KEY_RT  ;½öÒôÀÖÄ£Ê½ÏÂÓÐÐ§
03D6 E537            772             MOV A, SONG_ORDER
03D8 608C            773             JZ KEY_RT
03DA 14              774             DEC A
03DB F537            775             MOV SONG_ORDER, A
03DD 7191            776             ACALL SWITCH_CLR
03DF 6166            777             AJMP KEY_RT
                     778     
03E1                 779     PAUSE:
03E1 201006          780             JB PLAY_MODE, KEY_RT_1
03E4 B201            781             CPL PAUSE_FLAG
03E6 B207            782             CPL RECORDED_PLAY
03E8 6166            783             AJMP KEY_RT
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    13

                     784     
03EA                 785     KEY_RT_1:
03EA 75903F          786             MOV P1, #3FH
03ED 22              787             RET
                     788     
03EE                 789     Reset_Sources_Init:
03EE 75FFDE          790         mov  WDTCN,     #0DEh
03F1 75FFAD          791         mov  WDTCN,     #0ADh
03F4 22              792         ret
                     793     
03F5                 794     Timer_Init:
03F5 758E18          795         mov  CKCON,         #018h;
03F8 758850          796             mov  TCON,      #050h
03FB 758911          797         mov  TMOD,      #011h
03FE 758AF5          798         mov  TL0,       #0F5h
0401 758BEF          799         mov  TL1,       #0EFh
0404 758CFF          800         mov  TH0,       #0FFh
0407 758DD8          801         mov  TH1,       #0D8h
040A 22              802         ret
                     803     
040B                 804     Interrupts_Init:
040B 75A80A          805         mov  IE,        #00Ah
040E D288            806             setb IT0
                     807             ;setb EX0
0410 D2AF            808             setb EA
0412 22              809         ret
                     810             
0413                 811     Init_Device:
0413 1203EE          812             lcall Reset_Sources_Init
0416 1203F5          813         lcall Timer_Init
0419 12040B          814         lcall Interrupts_Init
041C 22              815         ret
                     816             
041D                 817     NOTE_H:
041D F8F8F9F9        818     DB      0F8H, 0F8H, 0F9H, 0F9H, 0FAH, 0FAH, 0FAH, 0FBH, 0FBH, 0FBH, 0FBH, 0FCH, 0FCH, 0FCH,
                              0FCH, 0FCH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FDH, 0FEH,0FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0
                             FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0FEH, 0FFH
0421 FAFAFAFB                
0425 FBFBFBFC                
0429 FCFCFCFC                
042D FDFDFDFD                
0431 FDFDFDFE                
0435 FEFEFEFE                
0439 FEFEFEFE                
043D FEFEFEFF                
0441                 819     NOTE_L:
0441 8C8F5BB8        820     DB      8CH, 8FH, 5BH, 0B8H, 15H, 67H, 0B9H, 04H, 4AH, 90H, 0BCH, 0CH, 44H, 79H, 0ACH, 0DCH
                             , 09H, 34H, 5CH, 82H, 0A6H, 0C8H, 0E7H, 05H, 21H, 3CH, 55H, 6DH, 84H, 9AH, 0ADH, 0C0H, 0D2H, 0E3H, 0F3H, 02H
0445 1567B904                
0449 4A90BC0C                
044D 4479ACDC                
0451 09345C82                
0455 A6C8E705                
0459 213C556D                
045D 849AADC0                
0461 D2E3F302                
0465                 821     PLAY_SCREEN1:
0465 42656174        822     DB "Beat:     mode:2"
0469 3A202020                
046D 20206D6F                
0471 64653A32                
0475 00              823     NOP
0476                 824     PLAY_SCREEN2:
0476 54696D65        825     DB "Time:"
047A 3A                      
047B 00              826     NOP
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    14

047C                 827     MUSIC_MODE1: 
047C 6D757369        828     DB "music:    mode:"
0480 633A2020                
0484 20206D6F                
0488 64653A                  
048B 00              829     NOP
048C                 830     MUSIC_NAME:
048C                 831     MUSIC_NAME0: 
048C 414F2048        832     DB "AO HARU"
0490 415255                  
0493 00              833     NOP
0494                 834     MUSIC_NAME1: 
0494 4E414D45        835     DB "NAME2"
0498 32                      
0499 00              836     NOP
049A                 837     MUSIC_NAME2: 
049A 4E414D45        838     DB "NAME3"
049E 33                      
049F 00              839     NOP
04A0                 840     RECORD_SCREEN1:
04A0 5245434F        841     DB "RECORDING..."
04A4 5244494E                
04A8 472E2E2E                
04AC 00              842     NOP
04AD                 843     RECORD_SCREEN2:
04AD 504C4159        844     DB "PLAYING"
04B1 494E47                  
04B4 00              845     NOP
04B5                 846     MUSIC_LIST:
04B5                 847     MUSIC_0:
04B5 F0F0F0F0        848     DB 0F0H,0F0H,0F0H,0F0H
04B9 23211D19        849     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04BD F0F0F0F0                
04C1 F0F0F0F0                
04C5 23211D19        850     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04C9 F0F0F0F0                
04CD F0F0F0F0                
04D1 23211D19        851     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04D5 F0F0F0F0                
04D9 F0F0F0F0                
04DD 171B1F21        852     DB 23, 27, 31, 33, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04E1 F0F0F0F0                
04E5 F0F0F0F0                
                     853             
04E9 23211D19        854     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04ED F0F0F0F0                
04F1 F0F0F0F0                
04F5 23211D19        855     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
04F9 F0F0F0F0                
04FD F0F0F0F0                
0501 23211D19        856     DB 35, 33, 29, 25, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
0505 F0F0F0F0                
0509 F0F0F0F0                
050D 171B1F21        857     DB 23, 27, 31, 33, 0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H,0F0H
0511 F0F0F0F0                
0515 F0F0F0F0                
                     858             
0519 FF              859     DB 0FFH
051A                 860     MUSIC_1:
051A 1E1D1C1B        861     DB 30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,30,29,2
                             8,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,30,29,28,27,26,25
                             ,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0FFH      
051E 1A191817                
0522 16151413                
0526 1211100F                
052A 0E0D0C0B                
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    15

052E 0A090807                
0532 06050403                
0536 02011E1D                
053A 1C1B1A19                
053E 18171615                
0542 14131211                
0546 100F0E0D                
054A 0C0B0A09                
054E 08070605                
0552 04030201                
0556 1E1D1C1B                
055A 1A191817                
055E 16151413                
0562 1211100F                
0566 0E0D0C0B                
056A 0A090807                
056E 06050403                
0572 0201FF                  
0575                 862     MUSIC_2:
0575 1E1D1C1B        863     DB 30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,1, 2, 3
                             , 4, 5, 6, 7, 8, 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,30,29,28,
                             27,26,25,24,23,22,21,20,19,18,17,16,0FFH
0579 1A191817                
057D 16151413                
0581 1211100F                
0585 0E0D0C0B                
0589 0A090807                
058D 06050403                
0591 02010102                
0595 03040506                
0599 0708090A                
059D 0B0C0D0E                
05A1 0F101112                
05A5 13141516                
05A9 1718191A                
05AD 1B1C1D1E                
05B1 1E1D1C1B                
05B5 1A191817                
05B9 16151413                
05BD 121110FF                
                     864             
                     865     end
                             
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    16

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AA . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BEAT_ON. . . . . .  B ADDR   0020H.4 A   
BEAT_STORE . . . .  N NUMB   0039H   A   
BUZZER . . . . . .  B ADDR   00A0H.6 A   
CAL. . . . . . . .  C ADDR   0337H   A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
CLR_LCD_SIG. . . .  B ADDR   0020H.0 A   
COL0 . . . . . . .  C ADDR   0307H   A   
COL1 . . . . . . .  C ADDR   030FH   A   
COL2 . . . . . . .  C ADDR   0317H   A   
COL3 . . . . . . .  C ADDR   031FH   A   
COL4 . . . . . . .  C ADDR   0327H   A   
COL5 . . . . . . .  C ADDR   032FH   A   
COUNT_PLUS_H . . .  C ADDR   02F4H   A   
COUNT_PLUS_L . . .  C ADDR   02F0H   A   
CPRL2. . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . .  D ADDR   009FH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . .  B ADDR   00C8H.1 A   
CURRENT_BEATS_H. .  N NUMB   0031H   A   
CURRENT_BEATS_L. .  N NUMB   0032H   A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
D1 . . . . . . . .  C ADDR   01F7H   A   
DAC0CN . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . .  D ADDR   00D6H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    17

DAC1L. . . . . . .  D ADDR   00D5H   A   
DELAY. . . . . . .  C ADDR   01F5H   A   
DELAY_T1 . . . . .  N NUMB   0034H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
E. . . . . . . . .  B ADDR   00A0H.5 A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . .  D ADDR   00AFH   A   
EMI0TC . . . . . .  D ADDR   00A1H   A   
ENABLE . . . . . .  C ADDR   01BAH   A   
ENSMB. . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
FUNCTION . . . . .  C ADDR   0372H   A   
FUNCTION_FLAG. . .  B ADDR   0020H.5 A   
FUNCTION_SWITCH. .  C ADDR   036AH   A   
FUN_FLAG_FALL. . .  C ADDR   035EH   A   
GET_BEATS_C. . . .  C ADDR   029EH   A   
GET_BEATS_X. . . .  C ADDR   02CDH   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
ININ_LCD_. . . . .  C ADDR   011DH   A   
INIT . . . . . . .  C ADDR   0100H   A   
INIT_DEVICE. . . .  C ADDR   0413H   A   
INTERRUPTS_INIT. .  C ADDR   040BH   A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEY_CHECK. . . . .  C ADDR   0301H   A   
KEY_GETNUM . . . .  C ADDR   0301H   A   
KEY_P4 . . . . . .  C ADDR   0349H   A   
KEY_RT . . . . . .  C ADDR   0366H   A   
KEY_RT_1 . . . . .  C ADDR   03EAH   A   
LAST_FUNCTION. . .  N NUMB   0030H   A   
LAST_MUSIC . . . .  C ADDR   03D0H   A   
LCD_CLR. . . . . .  C ADDR   01C5H   A   
LCD_DATA_PTR . . .  N NUMB   0038H   A   
LCD_DISPLAY. . . .  C ADDR   0140H   A   
LCD_DISPLAY_NAME .  C ADDR   0185H   A   
LCD_MUSIC. . . . .  C ADDR   0161H   A   
LCD_NAME0. . . . .  C ADDR   0170H   A   
LCD_NAME1. . . . .  C ADDR   0178H   A   
LCD_NAME2. . . . .  C ADDR   0180H   A   
LCD_PLAY . . . . .  C ADDR   014CH   A   
LCD_PLAY_ROW1. . .  C ADDR   014CH   A   
LCD_PLAY_ROW2. . .  C ADDR   0156H   A   
LCD_RECORD . . . .  C ADDR   018FH   A   
LCD_RECORDED_ROW1.  C ADDR   019EH   A   
LCD_RECORDING_R0W1  C ADDR   018FH   A   
LCD_ROW1 . . . . .  C ADDR   0164H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    18

LCD_ROW2 . . . . .  C ADDR   016EH   A   
LCD_RT . . . . . .  C ADDR   01FAH   A   
LCD_TIME_DP. . . .  C ADDR   01A8H   A   
LCD_WRITE. . . . .  C ADDR   01CDH   A   
LCD_WRITE_NUM. . .  C ADDR   01E5H   A   
MAIN . . . . . . .  C ADDR   0100H   A   
MAIN_LOOP. . . . .  C ADDR   013CH   A   
MODE_0 . . . . . .  C ADDR   038AH   A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . .  B ADDR   00F8H.1 A   
MUSIC_0. . . . . .  C ADDR   04B5H   A   
MUSIC_1. . . . . .  C ADDR   051AH   A   
MUSIC_2. . . . . .  C ADDR   0575H   A   
MUSIC_FINSH. . . .  B ADDR   0020H.2 A   
MUSIC_LIST . . . .  C ADDR   04B5H   A   
MUSIC_MODE . . . .  B ADDR   0022H.1 A   
MUSIC_MODE1. . . .  C ADDR   047CH   A   
MUSIC_NAME . . . .  C ADDR   048CH   A   
MUSIC_NAME0. . . .  C ADDR   048CH   A   
MUSIC_NAME1. . . .  C ADDR   0494H   A   
MUSIC_NAME2. . . .  C ADDR   049AH   A   
MUSIC_PAUSE. . . .  C ADDR   02A2H   A   
NEXT_MUSIC . . . .  C ADDR   03BAH   A   
NOTE_H . . . . . .  C ADDR   041DH   A   
NOTE_L . . . . . .  C ADDR   0441H   A   
NO_INPUT . . . . .  C ADDR   0356H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OTHER_FUNCTION . .  C ADDR   039BH   A   
OUT_CHANGE . . . .  C ADDR   0208H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . .  D ADDR   00B5H   A   
PAINO_MODE . . . .  N NUMB   0022H   A   
PAUSE. . . . . . .  C ADDR   03E1H   A   
PAUSE_FLAG . . . .  B ADDR   0020H.1 A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    19

PCA0H. . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PLAY_MODE. . . . .  B ADDR   0022H.0 A   
PLAY_SCREEN1 . . .  C ADDR   0465H   A   
PLAY_SCREEN2 . . .  C ADDR   0476H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PWM_T0 . . . . . .  N NUMB   0033H   A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . .  D ADDR   00E4H   A   
RCD_PLAY . . . . .  C ADDR   02C2H   A   
RCD_SAVE_H . . . .  N NUMB   0000H   A   
RCD_SAVE_L . . . .  N NUMB   0000H   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
READ_DATA. . . . .  C ADDR   01CFH   A   
READ_NUM . . . . .  C ADDR   01E6H   A   
RECORDED . . . . .  C ADDR   02BBH   A   
RECORDED_PLAY. . .  B ADDR   0020H.7 A   
RECORDING. . . . .  C ADDR   02A9H   A   
RECORD_KEY . . . .  C ADDR   039DH   A   
RECORD_MODE. . . .  B ADDR   0022H.2 A   
RECORD_SCREEN1 . .  C ADDR   04A0H   A   
RECORD_SCREEN2 . .  C ADDR   04ADH   A   
RECORING_SIG . . .  B ADDR   0020H.3 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESET_SOURCES_INIT  C ADDR   03EEH   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS . . . . . . . .  B ADDR   00A0H.3 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RW . . . . . . . .  B ADDR   00A0H.4 A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . .  D ADDR   00F2H   A   
SCAN_START . . . .  C ADDR   0305H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . .  D ADDR   00F1H   A   
SELECTED_MUSIC . .  C ADDR   027FH   A   
SET_BEATS. . . . .  C ADDR   0249H   A   
SET_BEATS_0. . . .  C ADDR   0237H   A   
SET_BEATS_1. . . .  C ADDR   0242H   A   
SI . . . . . . . .  B ADDR   00C0H.3 A   
SKIP_2X. . . . . .  C ADDR   03B0H   A   
SKIP_2X_FLAG . . .  B ADDR   0020H.6 A   
SLVSEL . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . .  D ADDR   00C3H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    20

SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . .  B ADDR   00C0H.0 A   
SONG0. . . . . . .  C ADDR   0264H   A   
SONG1. . . . . . .  C ADDR   0270H   A   
SONG2. . . . . . .  C ADDR   027CH   A   
SONG_ORDER . . . .  N NUMB   0037H   A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
SWITCH_CLR . . . .  C ADDR   0391H   A   
T0_PROC. . . . . .  C ADDR   01FBH   A   
T0_RETI. . . . . .  C ADDR   020AH   A   
T1_DELAY1. . . . .  C ADDR   0220H   A   
T1_PROC. . . . . .  C ADDR   020DH   A   
T1_RETI. . . . . .  C ADDR   02F8H   A   
T1_SB_MUSIC_MODE .  C ADDR   025AH   A   
T1_SB_PLAY_MODE. .  C ADDR   0234H   A   
T1_SB_RECORD_MODE.  C ADDR   02A6H   A   
T1_SET_BEATS . . .  C ADDR   0229H   A   
T1_TIME_COUNT. . .  C ADDR   02D8H   A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T4CON. . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TEMP_TO_RETI . . .  C ADDR   0258H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TH4. . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIMER_INIT . . . .  C ADDR   03F5H   A   
TIME_H . . . . . .  N NUMB   0035H   A   
TIME_L . . . . . .  N NUMB   0036H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TT_C . . . . . . .  C ADDR   02DEH   A   
TT_RCD_JUDGE . . .  C ADDR   02D0H   A   
TXBSY. . . . . . .  B ADDR   00F8H.3 A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . .  D ADDR   00FFH   A   
WRITE_IN . . . . .  C ADDR   01D8H   A   
A51 MACRO ASSEMBLER  PAINO_ADV                                                            11/23/2023 00:15:25 PAGE    21

XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
